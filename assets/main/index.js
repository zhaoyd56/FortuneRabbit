System.register("chunks:///_virtual/AudioControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var n,o,e,u,r,t,l,s,a;return{setters:[function(i){n=i.applyDecoratedDescriptor,o=i.inheritsLoose,e=i.initializerDefineProperty,u=i.assertThisInitialized},function(i){r=i.cclegacy,t=i._decorator,l=i.AudioClip,s=i.AudioSource,a=i.Component}],execute:function(){var c,p,d,_,f,y,m,h,b;r._RF.push({},"527a9OUqlJJFo1xXnQZJBnm","AudioControl",void 0);var g=t.ccclass,A=t.property,S={bigwin_cheer:0,bigwin_end:1,bgm_bigwin_main:2,bgm_fs:3,bgm_fs_start_layer:4,bgm_mg:5,menu_icon_press:6,click_spin:7,iconRow_end:8,win_line:9,fs_start:10,fs_success:11,superNumFlyEnd_1:12,superNumFlyEnd_2:13,superNumFlyEnd_3:14,superNumFlyEnd_4:15,superNumFlyEnd_5:16,superNumFlyEnd_6:17,superNumFlyEnd_7:18,superNumFlyEnd_8:19,superNumFlyEnd_9:20,superNumFlyEnd_10:21,cashItem_win:22,numroll_start:23,numroll_end:24};i("AudioControl",(c=g("AudioControl"),p=A(l),d=A(s),_=A(l),c((m=n((y=function(i){function n(){for(var n,o=arguments.length,r=new Array(o),t=0;t<o;t++)r[t]=arguments[t];return n=i.call.apply(i,[this].concat(r))||this,e(n,"audioClips",m,u(n)),e(n,"audioSource",h,u(n)),e(n,"lineWinAudioArr",b,u(n)),n}o(n,i);var r=n.prototype;return r.start=function(){},r.update=function(i){},r.playMusic=function(i){void 0!==S[i]&&(this.audioSource.clip=this.audioClips[S[i]],this.audioSource.play())},r.playEffect=function(i,n){void 0===n&&(n=2),void 0!==S[i]&&this.audioSource.playOneShot(this.audioClips[S[i]],n)},r.stop=function(){this.audioSource.stop()},r.pause=function(){this.audioSource.pause()},r.play=function(){this.audioSource.play()},r.setVolume=function(i){this.audioSource.volume=i},r.playLineWinEffect=function(i){this.lineWinAudioArr[i]&&this.audioSource.playOneShot(this.lineWinAudioArr[i],3)},n}(a)).prototype,"audioClips",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=n(y.prototype,"audioSource",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=n(y.prototype,"lineWinAudioArr",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=y))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioControl.ts"],(function(i){var o,t,n,u,s;return{setters:[function(i){o=i.createClass},function(i){t=i.cclegacy,n=i.find,u=i.sys},function(i){s=i.AudioControl}],execute:function(){t._RF.push({},"c7e9dKleTNKKaxvaQPKzctw","AudioMgr",void 0);var a="AUDIO_ONOFF",l=function(){function i(){this._audioControl=null,this._audioOn=!0,this._audioChange=!1}var t=i.prototype;return t.playEffect=function(i,o){void 0===o&&(o=1),this._audioOn&&this._audioControl&&this._audioControl.playEffect(i,o)},t.playNormalBgm=function(){this._audioOn&&this._audioControl&&(this._audioControl.stop(),this._audioControl.playMusic("bgm_mg"))},t.playFsBgm=function(){this._audioOn&&this._audioControl&&(this._audioControl.stop(),this._audioControl.playMusic("bgm_fs"))},t.playLineWinEffect=function(i){if(this._audioOn&&this._audioControl){var o=0;o=i<=1?0:i<=3?1:i<=5?2:i<=7?3:i<=9?4:i<=12?5:i<=15?6:i<20?7:8,this._audioControl.playLineWinEffect(o)}},t.setFsBgmVolume=function(){this._audioOn&&this._audioControl&&this._audioControl.setVolume(.5)},t.initAudioControl=function(){var i;this._audioControl=null==(i=n("audioNode"))?void 0:i.getComponent(s),this._audioOn&&this._audioControl.play()},t.setAudioOn=function(){this._audioOn=!this._audioOn,this._audioOn?this._audioControl.play():this._audioControl.stop(),this._audioChange=!0},t.initAudioOption=function(){var i=u.localStorage.getItem(a);null!==i&&(this._audioOn="1"==i)},t.saveAudioOption=function(){this._audioChange&&u.localStorage.setItem(a,this._audioOn?1:0)},o(i,null,[{key:"inst",get:function(){return null==this._inst&&(this._inst=new i,this._inst.initAudioOption()),this._inst}}]),i}();l._inst=null;i("audioMgr",l.inst);t._RF.pop()}}}));

System.register("chunks:///_virtual/AutoBtnNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalEvent.ts"],(function(t){var n,e,o,i,r,a,u,s,c,l,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,u=t.Node,s=t.Animation,c=t.Label,l=t.Component},function(t){p=t.GlobalEvent}],execute:function(){var d,h,f,E,y,v,N;r._RF.push({},"166b4KqbRJIGJDeDwNGQcLQ","AutoBtnNode",void 0);var b=a.ccclass,B=a.property;t("AutoBtnNode",(d=b("AutoBtnNode"),h=B(u),f=B(u),d((v=n((y=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,o(n,"aniNode",v,i(n)),o(n,"autoBtn",N,i(n)),n}e(n,t);var r=n.prototype;return r.start=function(){this.autoBtn.on(u.EventType.MOUSE_ENTER,this.onMouse,this),this.autoBtn.on(u.EventType.MOUSE_LEAVE,this.onMouse,this)},r.update=function(t){},r.onMouse=function(t){t.type==u.EventType.MOUSE_ENTER?(this.aniNode.active=!0,this.aniNode.getComponent(s).play()):t.type==u.EventType.MOUSE_LEAVE&&(this.aniNode.getComponent(s).stop(),this.aniNode.active=!1)},r.onBtnClick=function(){p.inst.emit("AUTOBUTTON_CLICK")},r.updateAutoTimes=function(t){var n=this.autoBtn.getComponentInChildren(c);n&&(n.string=t.toString())},n}(l)).prototype,"aniNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(y.prototype,"autoBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=y))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/BigWinEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalEvent.ts","./AudioMgr.ts"],(function(e){var t,n,i,o,r,a,l,c,u,s,p,d,f,g,y,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Prefab,c=e.instantiate,u=e.AudioSource,s=e.Animation,p=e.Label,d=e.tween,f=e.Tween,g=e.Component},function(e){y=e.GlobalEvent},function(e){m=e.audioMgr}],execute:function(){var h,b,C,E,v,I,F,W,B;r._RF.push({},"e8710J+hM9NSrvbxgmyHPcE","BigWinEffect",void 0);var _=a.ccclass,N=a.property;e("BigWinEffect",(h=_("BigWinEffect"),b=N(l),C=N(l),E=N(l),h((F=t((I=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"grandeWin",F,o(t)),i(t,"megaWin",W,o(t)),i(t,"superWin",B,o(t)),t}n(t,e);var r=t.prototype;return r.start=function(){},r.update=function(e){},r.showBigWin=function(e,t){var n=this,i=c(this.grandeWin);this.node.addChild(i),m._audioOn&&i.getComponent(u).play(),i.getComponent(s).on(s.EventType.FINISHED,(function(){i.destroy(),y.inst.emit("BIGWINEFFECT_FINISH")}));var o=i.getChildByName("lab_count").getComponent(p);if(o){var r=e/60,a=0,l=d(this.node).delay(.05).call((function(){a+=r,o.string=a.toFixed(2).replace(".",",")}));d(i).repeat(60,l).call((function(){i.getChildByName("vfx_b").getComponent(s).play(),i.getChildByName("lab_count").getComponent(s).play(),i.getComponent(u).stop(),m.playEffect("bigwin_end")})).start()}if(t>=35&&t<50){var g=c(this.megaWin);g.getChildByName("lab_count").getComponent(p).string=e.toFixed(2).replace(".",","),g.getComponent(s).on(s.EventType.FINISHED,(function(){g.destroy(),y.inst.emit("BIGWINEFFECT_FINISH")})),d(this.node).delay(2).call((function(){f.stopAllByTarget(i),i.destroy(),n.node.addChild(g),m.playEffect("bigwin_end")})).start()}else if(t>=50){var h=c(this.superWin);h.getChildByName("lab_count").getComponent(p).string=e.toFixed(2).replace(".",","),h.getComponent(s).on(s.EventType.FINISHED,(function(){h.destroy(),y.inst.emit("BIGWINEFFECT_FINISH")})),d(this.node).delay(2).call((function(){f.stopAllByTarget(i),i.destroy(),n.node.addChild(h),m.playEffect("bigwin_end")})).start()}},t}(g)).prototype,"grandeWin",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(I.prototype,"megaWin",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(I.prototype,"superWin",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=I))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/ChoseAutoView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts","./GlobalEvent.ts"],(function(e){var n,t,o,i,r,s,a,l,u,c,h,p,C,f,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,a=e._decorator,l=e.Node,u=e.Label,c=e.Button,h=e.Color,p=e.Animation,C=e.Component},function(e){f=e.globalData},function(e){b=e.GlobalEvent}],execute:function(){var d,E,T,y,m,v,_,g,I,w,A,O,U;s._RF.push({},"cb06dwFwHdMGZZmQFFOqHCS","ChoseAutoView",void 0);var x=a.ccclass,N=a.property,H=[10,30,50,80,1e3];e("ChoseAutoView",(d=x("ChoseAutoView"),E=N(l),T=N(u),y=N(u),m=N(u),v=N(c),d((I=n((g=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return n=e.call.apply(e,[this].concat(r))||this,o(n,"autoCountNodeArr",I,i(n)),o(n,"labWallet",w,i(n)),o(n,"labChip",A,i(n)),o(n,"labWin",O,i(n)),o(n,"btnConfirm",U,i(n)),n._curChoseIndex=-1,n}t(n,e);var s=n.prototype;return s.start=function(){for(var e,n=r(this.autoCountNodeArr);!(e=n()).done;){var t=e.value;t.on(l.EventType.TOUCH_START,this.onTouch,this),t.on(l.EventType.TOUCH_END,this.onTouch,this),t.on(l.EventType.TOUCH_CANCEL,this.onTouch,this),t.on(l.EventType.MOUSE_ENTER,this.onMouse,this),t.on(l.EventType.MOUSE_LEAVE,this.onMouse,this)}this.node.on(l.EventType.TOUCH_END,this.onTouchEnd,this),this.initUserInfo(),this.btnConfirm.interactable=!1},s.update=function(e){},s.onTouch=function(e){var n=e.target,t=parseInt(n.name.substring(10,11));if(e.type==l.EventType.TOUCH_START)t!=this._curChoseIndex&&(n.getComponentInChildren(u).color=new h(102,82,71));else if(e.type==l.EventType.TOUCH_END){if(t!=this._curChoseIndex){if(this._curChoseIndex>=0){var o=this.autoCountNodeArr[this._curChoseIndex];o&&(o.getComponentInChildren(u).color=new h(255,255,255))}this._curChoseIndex=t,n.getComponentInChildren(u).color=new h(255,178,102),this.btnConfirm.interactable||(this.btnConfirm.interactable=!0)}}else e.type==l.EventType.TOUCH_CANCEL&&(n.getComponentInChildren(u).color=new h(255,255,255))},s.onMouse=function(e){var n=e.target,t=parseInt(n.name.substring(10,11));e.type==l.EventType.MOUSE_ENTER?t!=this._curChoseIndex&&(n.getComponentInChildren(u).color=new h(102,82,71)):e.type==l.EventType.MOUSE_LEAVE&&t!=this._curChoseIndex&&(n.getComponentInChildren(u).color=new h(255,255,255))},s.onTouchEnd=function(e){this.onClose()},s.onConfirm=function(){H[this._curChoseIndex]&&b.inst.emit("CHOSEAUTOVIEW_CONFIRM",H[this._curChoseIndex]),this.onClose()},s.onClose=function(){this.node.getComponent(p).play("disappear")},s.disappearAniFinish=function(){this.node.destroy()},s.initUserInfo=function(){this.labWallet.string="R$"+f.wUserScore.toFixed(2).replace(".",","),this.labChip.string="R$"+f.wChipNum.toFixed(2).replace(".",","),this.labWin.string="R$"+f.wUserWin.toFixed(2).replace(".",",")},n}(C)).prototype,"autoCountNodeArr",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=n(g.prototype,"labWallet",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(g.prototype,"labChip",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(g.prototype,"labWin",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(g.prototype,"btnConfirm",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=g))||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/ChoseBetView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RollValueItem.ts","./GlobalEvent.ts","./GlobalData.ts","./Constants.ts"],(function(e){var t,n,o,i,l,a,r,u,s,c,h,f,p,m,C,V;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,l=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,r=e._decorator,u=e.Node,s=e.Label,c=e.Button,h=e.Animation,f=e.Component},function(e){p=e.RollValueItem},function(e){m=e.GlobalEvent},function(e){C=e.globalData},function(e){V=e.Constants}],execute:function(){var b,I,g,d,x,E,B,v,y,w,T,A,N,O,S,H,M;a._RF.push({},"7cfa0xl6v5C4q3YuxuHvVOK","ChoseBetView",void 0);var _=r.ccclass,L=r.property,R=0,U=1,D=2,z=[.5,1,1.5,2,2.5,3,3.5,4,4.5,5,10,15,20,25,30,35,40,45,50,80,120,160,200,240,280,320,360,400],W=[.05,.5,4],G=[1,2,3,4,5,6,7,8,9,10];e("ChoseBetView",(b=_("ChoseBetView"),I=L(u),g=L(s),d=L(s),x=L(s),E=L(c),B=L(c),v=L(c),b((T=t((w=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,o(t,"rollValueItems",T,i(t)),o(t,"labScore",A,i(t)),o(t,"labBet",N,i(t)),o(t,"labWin",O,i(t)),o(t,"btnMaxBet",S,i(t)),o(t,"btnConfirm",H,i(t)),o(t,"btnClose",M,i(t)),t}n(t,e);var a=t.prototype;return a.start=function(){this.initRollValueItems(),this.initUserInfo(),m.inst.on("CHOSEBETVIEW_ROLLVALUECHANGE",this.rollValueChange,this),m.inst.on("CHOSEBETVIEW_SETBUTTON",this.setButtonStatus,this),this.node.on(u.EventType.TOUCH_END,this.onTouchEnd,this)},a.update=function(e){},a.onDestroy=function(){m.inst.off("CHOSEBETVIEW_ROLLVALUECHANGE"),m.inst.off("CHOSEBETVIEW_SETBUTTON")},a.onMaxBet=function(){for(var e,t=l(this.rollValueItems);!(e=t()).done;){e.value.getComponent(p).setMaxValue()}},a.OnConfirm=function(){var e=this.rollValueItems[2].getComponent(p).getCurValueIndex();e>=0&&e<z.length&&C.wChipNum!=z[e]&&(C.wChipNum=z[e],m.inst.emit("CHOSEBETVIEW_CHANGECHIP")),this.onClose()},a.rollValueChange=function(e){if(e.typeID==R){var t=this.rollValueItems[1].getComponent(p).getCurValueIndex(),n=e.getCurValueIndex(),o=this.getAmountValueIndex(n,t);o>=0&&this.rollValueItems[2].getComponent(p).setValueIndex(o)}else if(e.typeID==U){var i=e.getCurValueIndex(),l=this.rollValueItems[0].getComponent(p).getCurValueIndex(),a=this.getAmountValueIndex(l,i);a>=0&&this.rollValueItems[2].getComponent(p).setValueIndex(a)}else if(e.typeID==D){var r=e.getCurValueIndex(),u=[];this.getVauleIndexsByAmount(u,r),2==u.length&&(this.rollValueItems[0].getComponent(p).setValueIndex(u[0]),this.rollValueItems[1].getComponent(p).setValueIndex(u[1]))}},a.onClose=function(){this.node.getComponent(h).play("choseBetView_disappear")},a.disappearAniFinish=function(){this.node.destroy()},a.initRollValueItems=function(){for(var e=-1,t=0;t<z.length;t++)if(z[t]==C.wChipNum){e=t;break}if(e>=0&&3==this.rollValueItems.length){this.rollValueItems[2].getComponent(p).setValueIndex(e),this.rollValueItems[2].getComponent(p).isMaxValue()&&(this.btnMaxBet.interactable=!1);var n=[];this.getVauleIndexsByAmount(n,e),2==n.length&&(this.rollValueItems[0].getComponent(p).setValueIndex(n[0]),this.rollValueItems[1].getComponent(p).setValueIndex(n[1]))}},a.initUserInfo=function(){this.labScore.string="R$"+C.wUserScore.toFixed(2).replace(".",","),this.labBet.string="R$"+C.wChipNum.toFixed(2).replace(".",","),this.labWin.string="R$"+C.wUserWin.toFixed(2).replace(".",",")},a.getVauleIndexsByAmount=function(e,t){if(t>=0)e:for(var n=0;n<W.length;n++)for(var o=0;o<G.length;o++){var i=W[n]*G[o]*V.GAME_LINECOUNT;if((i=Math.trunc(100*i)/100)==z[t]){e[0]=n,e[1]=o;break e}}},a.getAmountValueIndex=function(e,t){var n=-1;if(t>=0&&e>=0){var o=W[e]*G[t]*V.GAME_LINECOUNT;o=Math.trunc(100*o)/100;for(var i=0;i<z.length;i++)if(z[i]==o){n=i;break}}return n},a.setButtonStatus=function(e){this.btnConfirm.interactable!=e&&(this.btnClose.interactable=e,this.btnConfirm.interactable=e,e&&this.rollValueItems[2].getComponent(p).isMaxValue()||(this.btnMaxBet.interactable=e))},a.onTouchEnd=function(){this.onClose()},t}(f)).prototype,"rollValueItems",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(w.prototype,"labScore",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(w.prototype,"labBet",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(w.prototype,"labWin",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(w.prototype,"btnMaxBet",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(w.prototype,"btnConfirm",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(w.prototype,"btnClose",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=w))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/Constants.ts",["cc"],(function(E){var I;return{setters:[function(E){I=E.cclegacy}],execute:function(){I._RF.push({},"ee76cOs2DZL66yqiRdu+lN5","Constants",void 0);var N=E("Constants",function(){function E(){}return E.FormatScore=function(E,I){if(I=I||2,(E/=this.SCORE_RATIO)==Math.floor(E))return E.toString();for(var N=1,A=1;A<=I;A++)if(E*(N*=10)==Math.floor(E*N))return E.toFixed(A).toString();return E.toFixed(I).toString()},E}());N.LEN_TOKEN=512,N.SCORE_RATIO=100,N.GAME_LINECOUNT=10,N.PRIZESYMBOL_STARTINDEX=1e4,N.FORTUNEGAME_TIMES=8,N.ROLL_STATUS={RollNormal:0,ReadyStop:1,RollStop:2},N.INFOBAR_INDEX={RANDOMINFO:0,WINEFFECT:1,MOREWINEFFECT:2,BIGWINEFFECT:3,FORTUNEWINEFFECT:4},N.GMAENOTIFICATION_ID={GAME_LOGIN:1,GAME_ENTERGAMESCENE:2,GAME_GAMESCENE:3,GAME_GAMESTART:4,GAME_GAMECONCLUDE:5,GAME_SENDREWARDPOOL:6,FRUITROLLFINISH:20,CLOSEPOPUPVIEW:21,SETAUDIOENABLE:22},N.ROLLITEM_TYPE={S_BLANK:0,H_CARROT:1,H_FIRECRACKER:2,H_COIN:3,H_HONGBAO:4,H_PACKET:5,H_INGOT:6,S_RABBIT:7,S_CASH:8},N.GAMEFINISH_SITUATION={NOTWIN_FINISH:0,WINEFEECT_FINISH:1,MOREWINEFFECT_FINISH:2,BIGWINEFFECT_FINISH:3,WINEFFECTANI_FINISH:4,GAMEFORTUNE_FINISH:5},N.GAME_STATUS={GAME_FREE:0,GAME_START:1},I._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/footScoreShow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./GlobalData.ts"],(function(t){var n,e,i,o,a,r,s,l,c,u,h,p,d,f,y,m;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,l=t.Prefab,c=t.UIOpacity,u=t.find,h=t.instantiate,p=t.Label,d=t.Animation,f=t.Component},function(t){y=t.audioMgr},function(t){m=t.globalData}],execute:function(){var v,C,g,T,S,b,E,w,_,W,N;a._RF.push({},"b6bc9knPE5OZqoIAoRzLUVg","footScoreShow",void 0);var B=r.ccclass,U=r.property;t("footScoreShow",(v=B("footScoreShow"),C=U(s),g=U(s),T=U(s),S=U(l),v((w=n((E=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"ndWallet",w,o(n)),i(n,"ndChip",_,o(n)),i(n,"ndWin",W,o(n)),i(n,"choseBetView",N,o(n)),n}e(n,t);var a=n.prototype;return a.start=function(){this.ndWallet.on(s.EventType.TOUCH_START,this.onTouchStart,this),this.ndWallet.on(s.EventType.TOUCH_END,this.onTouchEnd,this),this.ndChip.on(s.EventType.TOUCH_START,this.onTouchStart,this),this.ndChip.on(s.EventType.TOUCH_END,this.onTouchEnd,this),this.ndWin.on(s.EventType.TOUCH_START,this.onTouchStart,this),this.ndWin.on(s.EventType.TOUCH_END,this.onTouchEnd,this)},a.update=function(t){},a.onTouchStart=function(t){var n=t.target.getChildByName("icon");n&&(n.getComponent(c).opacity=130)},a.onTouchEnd=function(t){var n=t.target,e=n.getChildByName("icon");e&&(e.getComponent(c).opacity=255);var i="on_"+n.name;"function"==typeof this[i]&&this[i]()},a.on_wallet=function(){},a.on_chip=function(){y.playEffect("menu_icon_press");var t=u("Canvas");if(!t.getChildByName("choseBetView")){var n=h(this.choseBetView);n&&t.addChild(n)}},a.on_win=function(){y.playEffect("menu_icon_press")},a.updateWallet=function(){var t,n=null==(t=this.ndWallet.getChildByName("lab"))?void 0:t.getComponent(p);n&&(n.string="R$"+m.wUserScore.toFixed(2).replace(".",","))},a.updateChip=function(){var t,n=null==(t=this.ndChip.getChildByName("lab"))?void 0:t.getComponent(p);n&&(n.string="R$"+m.wChipNum.toFixed(2).replace(".",","))},a.updateWin=function(){var t,n=null==(t=this.ndWin.getChildByName("lab"))?void 0:t.getComponent(p);n&&(n.string="R$"+m.wUserWin.toFixed(2).replace(".",","))},a.changeChip=function(){this.node.getComponent(d).play()},a.setNodeTouchStatus=function(t){t?(this.ndWallet.resumeSystemEvents(!0),this.ndChip.resumeSystemEvents(!0),this.ndWin.resumeSystemEvents(!0)):(this.ndWallet.pauseSystemEvents(!0),this.ndChip.pauseSystemEvents(!0),this.ndWin.pauseSystemEvents(!0))},n}(f)).prototype,"ndWallet",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(E.prototype,"ndChip",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(E.prototype,"ndWin",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(E.prototype,"choseBetView",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=E))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/FortuneRabbitView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RollItem.ts","./GlobalEvent.ts","./GlobalData.ts"],(function(t){var e,n,i,o,a,r,l,s,u,c,p,f,h,m,g,b,y,v,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Node,s=t.Prefab,u=t.Animation,c=t.tween,p=t.UIOpacity,f=t.UITransform,h=t.instantiate,m=t.randomRange,g=t.Vec3,b=t.Component},function(t){y=t.RollItem},function(t){v=t.GlobalEvent},function(t){d=t.globalData}],execute:function(){var I,C,_,w,R,F,x,A,E,S,N;a._RF.push({},"d6baehUVyNKP4v1D1dYuAr0","FortuneRabbitView",void 0);var B=r.ccclass,D=r.property;t("FortuneRabbitView",(I=B("FortuneRabbitView"),C=D(l),_=D(s),w=D(l),R=D(l),I((A=e((x=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"reelBg",A,o(e)),i(e,"cashItem",E,o(e)),i(e,"logo_fs",S,o(e)),i(e,"vfx_d",N,o(e)),e}n(e,t);var a=e.prototype;return a.start=function(){this.node.getComponent(u).on(u.EventType.FINISHED,this.fortuneAniEvent,this)},a.update=function(t){},a.playStartAni=function(){this.logo_fs.getComponent(u).play(),this.vfx_d.active=!0,this.vfx_d.getComponent(u).play()},a.stopStartAni=function(){this.logo_fs.getComponent(u).pause(),c(this.logo_fs.getComponent(p)).to(.2,{opacity:0}).start(),this.vfx_d.getComponent(u).stop(),this.vfx_d.active=!1},a.playCashItemAni=function(){this.stopStartAni(),v.inst.emit("SHOWFORTUNEINFO",!0),this.schedule(this.createCashItem,.2),setTimeout((function(){d._gameFortuneRabbit=!0}),2e3)},a.createCashItem=function(){var t=this.reelBg.getComponent(f).width/3,e=this.reelBg.getComponent(f).height/2,n=[{x:0-t,y:e},{x:0,y:e},{x:0+t,y:e}],i=h(this.cashItem);if(i){var o=i.getComponent(f).height;i.setScale(.5,.5),i.getComponent(y).tryRandomCashNum(),this.reelBg.addChild(i),i.setPosition(0,100);var a=Math.floor(m(0,n.length)),r=c(i).to(.3,{scale:new g(.8,.8,1)}).to(.3,{scale:new g(.7,.7,1)}),l=c(i).to(.6,{position:new g(n[a].x,n[a].y,0)}).by(.6,{position:new g(0,-(e+o))});c(i).parallel(r,l).removeSelf().start()}},a.fortuneAniEvent=function(t,e){t==u.EventType.FINISHED&&(this.unschedule(this.createCashItem),v.inst.emit("FORTUNERABBIT_FINISH"))},e}(b)).prototype,"reelBg",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(x.prototype,"cashItem",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(x.prototype,"logo_fs",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(x.prototype,"vfx_d",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=x))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameHistory.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,i,n,o,a,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Prefab,c=t.Component}],execute:function(){var u,l,p,y,f;o._RF.push({},"bd74cR/6SFHlqMVwpuFcqCs","GameHistory",void 0);var h=a.ccclass,m=a.property;t("GameHistory",(u=h("GameHistory"),l=m(s),u((f=e((y=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"historyListItem",f,n(e)),e}r(e,t);var o=e.prototype;return o.start=function(){},o.update=function(t){},e}(c)).prototype,"historyListItem",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=y))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/GamePayTable.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,i,r,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.UITransform,r=t.tween,s=t.Vec3,a=t.Component}],execute:function(){var c;n._RF.push({},"6e0972c1pZNsYppYuDbNtY6","GamePayTable",void 0);var p=o.ccclass;o.property,t("GamePayTable",p("GamePayTable")(c=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.start=function(){this.onAppear()},o.update=function(t){},o.onClose=function(){var t=this.node.getComponent(i).contentSize;r(this.node).to(.2,{position:new s(0,-t.height,0)}).destroySelf().start()},o.onAppear=function(){var t=this.node.getComponent(i).contentSize;this.node.setPosition(0,-t.height),r(this.node).to(.2,{position:new s(0,0,0)}).start()},n}(a))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameRuleView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,i,r,s,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.UITransform,r=e.tween,s=e.Vec3,c=e.Component}],execute:function(){var u;n._RF.push({},"00861wpeeZK4Y51GNYETS9s","GameRuleView",void 0);var a=o.ccclass;o.property,e("GameRuleView",a("GameRuleView")(u=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.start=function(){this.onAppear()},o.update=function(e){},o.onClose=function(){var e=this.node.getComponent(i).contentSize;r(this.node).to(.2,{position:new s(0,-e.height,0)}).destroySelf().start()},o.onAppear=function(){var e=this.node.getComponent(i).contentSize;this.node.setPosition(0,-e.height),r(this.node).to(.2,{position:new s(0,0,0)}).start()},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameViewControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalEvent.ts","./FortuneRabbitView.ts","./Constants.ts"],(function(t){var e,n,i,o,r,a,u,s,f,b,l,h,p,m,c,g,F,R,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,u=t.Prefab,s=t.SpriteFrame,f=t.Sprite,b=t.Node,l=t.Animation,h=t.instantiate,p=t.tween,m=t.UIOpacity,c=t.Label,g=t.Component},function(t){F=t.GlobalEvent},function(t){R=t.FortuneRabbitView},function(t){_=t.Constants}],execute:function(){var w,d,I,y,V,C,S,N,A,B,v;r._RF.push({},"2611ftXzW1NsZytWnABg7JC","GameViewControl",void 0);var E=a.ccclass,T=a.property,O=1,G=2;t("GameViewControl",(w=E("GameViewControl"),d=T(u),I=T(s),y=T(f),V=T(b),w((N=e((S=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"fortuneRabbitView",N,o(e)),i(e,"reelBgFrameArr",A,o(e)),i(e,"reelBg",B,o(e)),i(e,"fortuneInfo",v,o(e)),e._fortuneStatus=0,e._gameFortuneRabbitView=null,e}n(e,t);var r=e.prototype;return r.start=function(){this.node.getComponent(l).on(l.EventType.FINISHED,this.nodeAniFinished,this),F.inst.on("SHOWFORTUNEINFO",this.setfortuneInfo,this)},r.onDestroy=function(){F.inst.off("SHOWFORTUNEINFO")},r.update=function(t){},r.setViewBg=function(t){this.reelBgFrameArr[t]&&(this.reelBg.spriteFrame=this.reelBgFrameArr[t])},r.addFortuneRabbitView=function(){if(this.fortuneRabbitView){if(this._gameFortuneRabbitView)return;var t=h(this.fortuneRabbitView);this.node.parent.addChild(t),this._gameFortuneRabbitView=t}},r.removeFortuneRabbitView=function(){this._gameFortuneRabbitView&&(this._gameFortuneRabbitView.destroy(),this._gameFortuneRabbitView=null)},r.goFortuneRabbit=function(t){this._fortuneStatus=t,this.addFortuneRabbitView(),this.node.getComponent(l).play("fortuneRabbit_start")},r.playFortuneRabbitStartAni=function(){this._gameFortuneRabbitView&&this._gameFortuneRabbitView.getComponent(R).playStartAni()},r.nodeAniFinished=function(t,e){var n=this;"fortuneRabbit_start"==e.name?this._fortuneStatus==O?(this._gameFortuneRabbitView&&this._gameFortuneRabbitView.getComponent(R).stopStartAni(),this.node.getComponent(l).play("fortuneRabbit_end")):this._fortuneStatus==G&&(F.inst.emit("FORTUNERABBIT_SUCCESS"),this._gameFortuneRabbitView&&setTimeout((function(){n._gameFortuneRabbitView.getComponent(l).play()}),400)):"fortuneRabbit_end"==e.name&&(this._fortuneStatus==O?(this.removeFortuneRabbitView(),this.setViewBg(0),F.inst.emit("FORTUNERABBIT_FAIL")):this._fortuneStatus==G&&F.inst.emit("MAINSCENE_GAMEFINISH",_.GAMEFINISH_SITUATION.GAMEFORTUNE_FINISH))},r.setfortuneInfo=function(t){t?(this.fortuneInfo.getChildByName("spr_times").active=!0,this.fortuneInfo.getChildByName("spr_lfs").active=!1,this.updateFortuneInfo(8),p(this.fortuneInfo.getComponent(m)).to(.2,{opacity:255}).start()):p(this.fortuneInfo.getComponent(m)).to(.2,{opacity:0}).start()},r.updateFortuneInfo=function(t){t<=0?(this.fortuneInfo.getChildByName("spr_times").active=!1,this.fortuneInfo.getChildByName("spr_lfs").active=!0):this.fortuneInfo.getChildByName("spr_times").getComponentInChildren(c).string=t.toString()},e}(g)).prototype,"fortuneRabbitView",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(S.prototype,"reelBgFrameArr",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(S.prototype,"reelBg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(S.prototype,"fortuneInfo",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=S))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalData.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"47de3QHr6FJdaH4vfMtr7LX","GlobalData",void 0);var s=function(){function t(){this.wUserID=0,this.wUserScore=0,this.wSzNickName="unknown",this.wUserAccount="",this.wUserToken="",this.wChipNum=0,this.wUserWin=0,this.wTurboOn=!1,this._gameFortuneRabbit=!1}var n=t.prototype;return n.setUserID=function(t){this.wUserID=t},n.setUserAccountData=function(t,n){this.wUserToken=t,this.wUserAccount=n},t.getInstance=function(){return t._classInstance||(t._classInstance=new t),t._classInstance},t}();s._classInstance=null;t("globalData",s.getInstance());n._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t,c;return{setters:[function(n){e=n.createClass},function(n){t=n.cclegacy,c=n.EventTarget}],execute:function(){t._RF.push({},"fc03eQ+v3VNUYIVyL6agtYm","GlobalEvent",void 0),n("GlobalEvent",function(){function n(){}return e(n,null,[{key:"inst",get:function(){return n._classInstance||(n._classInstance=new c),n._classInstance}}]),n}())._classInstance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/HistoryListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,n,i,s,r,h,p,c;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,i=t.Node,s=t.Sprite,r=t.Color,h=t.Label,p=t.RichText,c=t.Component}],execute:function(){var a;o._RF.push({},"4e70eBVitpGd4aVXf513Gdf","HistoryListItem",void 0);var l=n.ccclass,g=(n.property,1),y=2,u=[[48,48,60,255],[52,52,63,255]];t("HistoryListItem",l("HistoryListItem")(a=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this)._itemType=g,e}e(o,t);var n=o.prototype;return n.start=function(){this.node.on(i.EventType.TOUCH_START,this.onTouch,this),this.node.on(i.EventType.TOUCH_END,this.onTouch,this),this.node.on(i.EventType.TOUCH_CANCEL,this.onTouch,this),this.node.on(i.EventType.MOUSE_ENTER,this.onMouse,this),this.node.on(i.EventType.MOUSE_LEAVE,this.onMouse,this)},n.update=function(t){},n.onTouch=function(t){var e=t.target;t.type==i.EventType.TOUCH_START?e.getComponent(s).color=new r(60,60,70,255):(this.setBgColor(),t.type,i.EventType.TOUCH_END)},n.onMouse=function(t){var e=t.target;t.type==i.EventType.MOUSE_ENTER?e.getComponent(s).color=new r(40,40,52,255):t.type==i.EventType.MOUSE_LEAVE&&this.setBgColor()},n.initListItem=function(t,e){this._itemType=t%2==0?y:g,this.setBgColor(),this.node.getChildByName("labTime").getComponent(h).string=e.time,this.node.getChildByName("labPayout").getComponent(h).string=e.bet_gold,this.node.getChildByName("labWin").getComponent(h).string=e.winGold,parseFloat(e.winGold)>0&&(this.node.getChildByName("labWin").getComponent(h).color=new r(255,255,255,255));var o=e.transaction;e.props.length>1?o+="<br/><img src = 'ic_03' offset = 3,0/><img src = 'ic_01' offset = 6,0/>":1==e.props.length&&e.props[0].rewardscharscore.length>=5&&(o+="<br/><img src = 'ic_01' offset = 3,0/>"),this.node.getChildByName("textTransaction").getComponent(p).string=o},n.setBgColor=function(){var t=u[this._itemType-1];t&&(this.node.getComponent(s).color=new r(t[0],t[1],t[2],t[3]))},o}(c))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/HttpReqControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts","./GlobalEvent.ts"],(function(n){var e,t,o,r;return{setters:[function(n){e=n.createClass},function(n){t=n.cclegacy},function(n){o=n.globalData},function(n){r=n.GlobalEvent}],execute:function(){t._RF.push({},"9ebb4cI/T9E4pTsdZbt+bQh","HttpReqControl",void 0);n("HttpReqControl",function(){function n(){}var t=n.prototype;return t.sendInitRoom=function(){console.log("sendInitRoom");var n=new URLSearchParams;n.append("token",o.wUserToken),n.append("language","EN"),fetch("https://devsvr.bigerwin.com:8091/single_game.rabbit/initRoom",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n.toString()}).then((function(n){return n.json()})).then((function(n){o.wUserScore=n.data.gold,r.inst.emit("HTTPRESPOND_INITROOM")})).catch((function(n){console.error("Error:",n)}))},t.sendGameResult=function(){console.log("sendGameResult");var n=new URLSearchParams;n.append("token",o.wUserToken),n.append("language","EN"),n.append("bet_gold",o.wChipNum.toString()),fetch("https://devsvr.bigerwin.com:8091/single_game.rabbit/gameResult",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n.toString()}).then((function(n){return n.json()})).then((function(n){r.inst.emit("HTTPRESPOND_GAMERESULT",n.data)})).catch((function(n){console.error("Error:",n)}))},e(n,null,[{key:"inst",get:function(){return n._classInstance||(n._classInstance=new n),n._classInstance}}]),n}())._classInstance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/InfoBarMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./GlobalData.ts","./GlobalEvent.ts","./AudioMgr.ts"],(function(t){var n,e,i,o,r,a,f,s,I,h,c,u,l,N,m,E,p,F,d,_,w;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,f=t.Node,s=t.SpriteFrame,I=t.Animation,h=t.randomRange,c=t.UITransform,u=t.tween,l=t.Vec3,N=t.Sprite,m=t.Label,E=t.Tween,p=t.Component},function(t){F=t.Constants},function(t){d=t.globalData},function(t){_=t.GlobalEvent},function(t){w=t.audioMgr}],execute:function(){var g,B,C,v,x,y,b,T,A,O,R,S,W,D,M,G,X;r._RF.push({},"8272amGYq9G+6GrnDToYtPo","InfoBarMgr",void 0);var H=a.ccclass,z=a.property,U=-135,P=15;t("InfoBarMgr",(g=H("InfoBarMgr"),B=z(f),C=z(f),v=z(f),x=z(s),y=z(f),b=z(f),T=z(s),g((R=n((O=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"infoBar",R,o(n)),i(n,"randomInfoNode",S,o(n)),i(n,"winEffect",W,o(n)),i(n,"infoBarFrame",D,o(n)),i(n,"winNum",M,o(n)),i(n,"vfxCions",G,o(n)),i(n,"winTextFrame",X,o(n)),n._barIndex=[0,1,2],n._curBarIndex=-1,n._curInfoIndex=F.INFOBAR_INDEX.RANDOMINFO,n._fortuneWinNum=0,n}e(n,t);var r=n.prototype;return r.start=function(){var t=this;this.randomShowInfo(),this.vfxCions.getComponent(I).on(I.EventType.FINISHED,(function(){t._curInfoIndex==F.INFOBAR_INDEX.MOREWINEFFECT?_.inst.emit("MAINSCENE_GAMEFINISH",F.GAMEFINISH_SITUATION.MOREWINEFFECT_FINISH):t._curInfoIndex==F.INFOBAR_INDEX.BIGWINEFFECT&&_.inst.emit("MAINSCENE_GAMEFINISH",F.GAMEFINISH_SITUATION.BIGWINEFFECT_FINISH)})),this.winEffect.getChildByName("ib_vfx_b").getComponent(I).on(I.EventType.FINISHED,(function(){_.inst.emit("MAINSCENE_GAMEFINISH",F.GAMEFINISH_SITUATION.WINEFEECT_FINISH)}))},r.update=function(t){},r.randomShowInfo=function(){var t=this;this.refreshBarIndex();var n=Math.floor(h(0,this._barIndex.length)),e=this._barIndex[n];if(e<this.infoBar.length){if(0==e){if(!this.infoBar[0].active){this.infoBar[0].active=!0,this._curBarIndex=e,this.infoBar[0].setPosition(U,P);var i=this.infoBar[0].getComponent(c).contentSize.width+10;u(this.infoBar[e]).delay(1).by(10,{position:new l(-i,0,0)}).call((function(){t.infoBar[e].active=!1,t.randomShowInfo()})).start()}}else this.infoBar[e].active||(this.infoBar[e].active=!0,this._curBarIndex=e,u(this.infoBar[e]).delay(5).call((function(){t.infoBar[e].active=!1,t.randomShowInfo()})).start());this._curInfoIndex=F.INFOBAR_INDEX.RANDOMINFO}},r.refreshBarIndex=function(){var t=this;this._barIndex=[0,1,2],this._barIndex=this._barIndex.filter((function(n){return n!==t._curBarIndex}))},r.showFortuneWinEffect=function(t){var n=this;if(!(t<=0))if(this._curInfoIndex!=F.INFOBAR_INDEX.FORTUNEWINEFFECT)this._fortuneWinNum=t,this.node.getComponent(N).spriteFrame=this.infoBarFrame[1],this.winEffect.getComponent(I).play(),this.winNum.active=!0,this.winNum.getChildByName("spr_text").getComponent(N).spriteFrame=this.winTextFrame[0],this.winNum.getComponentInChildren(m).string=t.toFixed(2).replace(".",","),this.winEffect.getChildByName("ib_vfx_d").getComponent(I).play(),this._curInfoIndex=F.INFOBAR_INDEX.FORTUNEWINEFFECT;else{var e=this.winNum.getComponentInChildren(m);this._fortuneWinNum+=t;var i=this._fortuneWinNum;this.winNum.active=!1,this.winEffect.getChildByName("ib_vfx_d").getComponent(I).play(),u(this.winNum).delay(.05).call((function(){e.string=i.toFixed(2).replace(".",","),n.winNum.active=!0})).start()}},r.showWinEffect=function(t){this.node.getComponent(N).spriteFrame=this.infoBarFrame[1],this.winEffect.getComponent(I).play(),this.setWinNumShow(t),this.winEffect.getChildByName("ib_vfx_d").getComponent(I).play(),this.winEffect.getChildByName("ib_vfx_b").getComponent(I).play(),this._curInfoIndex=F.INFOBAR_INDEX.WINEFFECT},r.showMoreWinEffect=function(t){var n=this;this.node.getComponent(N).spriteFrame=this.infoBarFrame[1],this.winEffect.getComponent(I).play();var e=this.winEffect.getChildByName("lab_changeNum");if(e){this.winNum.active=!1,e.active=!0;var i=e.getComponent(m);i.string="0,00";var o=0,r=t/40;w.playEffect("numroll_start");var a=u(e).delay(.05).call((function(){o+=r,i.string=o.toFixed(2).replace(".",",")}));this.winEffect.getChildByName("ib_vfx_d").getComponent(I).play(),u(e).repeat(39,a).call((function(){w.playEffect("numroll_end"),e.active=!1,n.setWinNumShow(t),n.vfxCions.getComponent(I).play()})).start()}this._curInfoIndex=F.INFOBAR_INDEX.MOREWINEFFECT},r.showBigWinEffect=function(t){this.node.getComponent(N).spriteFrame=this.infoBarFrame[2],this.winEffect.getComponent(I).play(),this.setWinNumShow(t),this.winEffect.getChildByName("ib_vfx_d").getComponent(I).play(),w.playEffect("numroll_end"),this.vfxCions.getComponent(I).play(),this._curInfoIndex=F.INFOBAR_INDEX.BIGWINEFFECT},r.hideCurShowInfo=function(){this._curInfoIndex==F.INFOBAR_INDEX.RANDOMINFO?(E.stopAllByTarget(this.infoBar[this._curBarIndex]),this.infoBar[this._curBarIndex].active=!1,this.randomInfoNode.active=!1):(this.winEffect.getComponent(I).stop(),this.winEffect.active=!1)},r.switchInfoByIndex=function(t,n){t!=F.INFOBAR_INDEX.FORTUNEWINEFFECT&&t==this._curInfoIndex||(this.hideCurShowInfo(),t==F.INFOBAR_INDEX.RANDOMINFO?(this.node.getComponent(N).spriteFrame=this.infoBarFrame[0],this.randomInfoNode.active=!0,this.randomShowInfo()):t==F.INFOBAR_INDEX.WINEFFECT?(this.winEffect.active=!0,this.showWinEffect(n)):t==F.INFOBAR_INDEX.MOREWINEFFECT?(this.winEffect.active=!0,this.showMoreWinEffect(n)):t==F.INFOBAR_INDEX.BIGWINEFFECT?(this.winEffect.active=!0,this.showBigWinEffect(n)):t==F.INFOBAR_INDEX.FORTUNEWINEFFECT&&(this.winEffect.active=!0,this.showFortuneWinEffect(n)))},r.setWinNumShow=function(t){this.winNum.active=!0,d._gameFortuneRabbit?this.winNum.getChildByName("spr_text").getComponent(N).spriteFrame=this.winTextFrame[1]:this.winNum.getChildByName("spr_text").getComponent(N).spriteFrame=this.winTextFrame[0],this.winNum.getComponentInChildren(m).string=t.toFixed(2).replace(".",",")},n}(p)).prototype,"infoBar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=n(O.prototype,"randomInfoNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(O.prototype,"winEffect",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(O.prototype,"infoBarFrame",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=n(O.prototype,"winNum",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(O.prototype,"vfxCions",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(O.prototype,"winTextFrame",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=O))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/LoadScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HttpReqControl.ts","./GlobalData.ts","./GlobalEvent.ts"],(function(i){var e,t,n,o,a,r,s,p,l,c,u,d,h,g,m,f,b,T,w;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator,s=i.Node,p=i.ProgressBar,l=i.Label,c=i.screen,u=i.Animation,d=i.randomRange,h=i.director,g=i.UITransform,m=i.view,f=i.Component},function(i){b=i.HttpReqControl},function(i){T=i.globalData},function(i){w=i.GlobalEvent}],execute:function(){var v,S,z,I,y,_,P,D,L,R,x,B,C,A,H;a._RF.push({},"590eaJsNlhI94EsOoCHcxrQ","LoadScene",void 0);var E=r.ccclass,O=r.property,F=["Se nos está a visitar pela primeira vez, a transferência pode demorar um pouco.","Para a melhor experiência de jogo, utilize o Safari ou o Chrome!","Desative páginas inativas e disponibilize mais recursos!","Recomendamos a transferência por Wi-Fi para jogar em HD!","Os jogos carregados anteriormente carregam mais rapidamente a partir da cache do navegador!","Atualize para o dispositivo mais recente para desfrutar da melhor experiência de jogo!"];i("LoadScene",(v=E("LoadScene"),S=O(s),z=O(p),I=O(l),y=O(s),_=O(s),P=O(l),v((R=e((L=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=i.call.apply(i,[this].concat(a))||this,n(e,"bottomBg",R,o(e)),n(e,"loadProgress",x,o(e)),n(e,"labTip",B,o(e)),n(e,"btnStartGame",C,o(e)),n(e,"barLight",A,o(e)),n(e,"animationTip",H,o(e)),e._aniTipIndex=0,e}t(e,i);var a=e.prototype;return a.start=function(){var i=this;this.resizeBottomBg(),c.on("window-resize",this.resizeBottomBg,this),w.inst.on("HTTPRESPOND_INITROOM",this.onHttpInitRoom,this),this.parseUrlData(),b.inst.sendInitRoom(),this.animationTip.node.getComponent(u).on(u.EventType.FINISHED,(function(e,t){"aniTip_disappear"==t.name&&(i.animationTip.string=F[i._aniTipIndex],i.animationTip.node.getComponent(u).play("aniTip_appear"))}))},a.update=function(i){},a.onDestroy=function(){c.off("window-resize"),w.inst.off("HTTPRESPOND_INITROOM"),this.unschedule(this.updateAnimationTip)},a.onHttpInitRoom=function(){this._aniTipIndex=Math.floor(d(0,F.length)),this.animationTip.string=F[this._aniTipIndex],this.schedule(this.updateAnimationTip,10),this.labTip.string="A ler informações",h.preloadScene("MainScene",this.onLoadingProgress.bind(this),this.onLoadFinished.bind(this))},a.onLoadingProgress=function(i,e,t){var n=i/e;this.loadProgress.progress=n,this.labTip.string="A carregar recursos ["+(100*n).toFixed(0)+"%]";var o=this.barLight.parent.getComponent(g).contentSize;this.barLight.setPosition(o.width*this.loadProgress.progress,0)},a.onLoadFinished=function(i){var e=this;i?console.log(i.message):(this.labTip.string="Completar",setTimeout((function(){e.btnStartGame.active=!0,e.labTip.node.active=!1,e.loadProgress.node.active=!1,e.unschedule(e.updateAnimationTip),e.animationTip.node.active=!1}),200))},a.startGame=function(){h.loadScene("MainScene")},a.resizeBottomBg=function(){var i=this.bottomBg.getComponent(g).contentSize,e=m.getDesignResolutionSize(),t=c.windowSize.width/e.width,n=c.windowSize.height/e.height,o=(i.width,i.height,0);if(t>n){var a=i.width*n;a<c.windowSize.width&&(o=c.windowSize.width/a)}else if(t<n){var r=i.height*t;o=c.windowSize.height/r}o>0&&this.bottomBg.setScale(o,o)},a.parseUrlData=function(){var i="",e="",t=window.location.href.split("?")[1];t&&t.split("&").forEach((function(t){var n=t.split("=");"member_account"==n[0]?i=n[1]:"token"==n[0]&&(e=n[1])}));T.setUserAccountData(e,i)},a.updateAnimationTip=function(){this._aniTipIndex++,this._aniTipIndex>=F.length&&(this._aniTipIndex=0),this.animationTip.node.getComponent(u).play("aniTip_disappear")},e}(f)).prototype,"bottomBg",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(L.prototype,"loadProgress",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(L.prototype,"labTip",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(L.prototype,"btnStartGame",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(L.prototype,"barLight",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(L.prototype,"animationTip",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=L))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AudioMgr.ts","./Constants.ts","./GlobalData.ts","./GlobalEvent.ts","./HttpReqControl.ts","./AudioControl.ts","./AutoBtnNode.ts","./BigWinEffect.ts","./ChoseAutoView.ts","./ChoseBetView.ts","./FortuneRabbitView.ts","./GameHistory.ts","./GamePayTable.ts","./GameRuleView.ts","./GameViewControl.ts","./HistoryListItem.ts","./InfoBarMgr.ts","./LoadScene.ts","./MainScene.ts","./RollControl.ts","./RollItem.ts","./RollValueItem.ts","./SbNode.ts","./ShowItemNode.ts","./TipShow.ts","./WinItem.ts","./footScoreShow.ts","./winEffectController.ts","./debug-view-runtime-control.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SbNode.ts","./footScoreShow.ts","./GlobalData.ts","./Constants.ts","./TipShow.ts","./AudioMgr.ts","./RollControl.ts","./GlobalEvent.ts","./ShowItemNode.ts","./InfoBarMgr.ts","./winEffectController.ts","./AutoBtnNode.ts","./BigWinEffect.ts","./HttpReqControl.ts","./GameViewControl.ts"],(function(t){var e,i,o,n,s,a,r,l,u,h,f,m,c,p,d,g,I,S,N,b,_,w,T,C,E,R,F,A,B,O,y,v,G,U,M,W;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Prefab,l=t.Node,u=t.SpriteFrame,h=t.screen,f=t.sp,m=t.UITransform,c=t.view,p=t.instantiate,d=t.Animation,g=t.tween,I=t.Vec3,S=t.Button,N=t.UIOpacity,b=t.Sprite,_=t.Component},function(t){w=t.SbNode},function(t){T=t.footScoreShow},function(t){C=t.globalData},function(t){E=t.Constants},function(t){R=t.TipShow},function(t){F=t.audioMgr},function(t){A=t.RollControl},function(t){B=t.GlobalEvent},function(t){O=t.ShowItemNode},function(t){y=t.InfoBarMgr},function(t){v=t.winEffectController},function(t){G=t.AutoBtnNode},function(t){U=t.BigWinEffect},function(t){M=t.HttpReqControl},function(t){W=t.GameViewControl}],execute:function(){var D,H,V,z,L,x,P,k,X,K,Y,Z,j,q,J,Q,$,tt,et,it,ot,nt,st,at,rt,lt,ut,ht,ft,mt,ct,pt,dt,gt,It,St,Nt,bt,_t;s._RF.push({},"38fbeFpdutF16xg2M7UjDnv","MainScene",void 0);var wt=a.ccclass,Tt=a.property,Ct=[.5,1,1.5,2.5,5,15,25,40,50,200,400];t("MainScene",(D=wt("MainScene"),H=Tt(w),V=Tt(T),z=Tt(r),L=Tt(l),x=Tt(l),P=Tt(u),k=Tt(l),X=Tt(l),K=Tt(l),Y=Tt(l),Z=Tt(l),j=Tt(r),q=Tt(G),J=Tt(l),Q=Tt(U),$=Tt(W),tt=Tt(r),et=Tt(r),D((nt=e((ot=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,o(e,"sbNodeControl",nt,n(e)),o(e,"footScoreControl",st,n(e)),o(e,"tipNode",at,n(e)),o(e,"menuBg",rt,n(e)),o(e,"footBtnNode",lt,n(e)),o(e,"btnSoundFrame",ut,n(e)),o(e,"sprSoundOff",ht,n(e)),o(e,"rollNodes",ft,n(e)),o(e,"showItemNode",mt,n(e)),o(e,"infoBar",ct,n(e)),o(e,"winEffectShow",pt,n(e)),o(e,"autoView",dt,n(e)),o(e,"autoBtnControl",gt,n(e)),o(e,"topRabbit",It,n(e)),o(e,"bigWinEffect",St,n(e)),o(e,"gameViewControl",Nt,n(e)),o(e,"gameRuleView",bt,n(e)),o(e,"payTableView",_t,n(e)),e._chipIndex=1,e._rollNodeIndex=0,e._gameAutoTimes=0,e._gameFinishSituation=E.GAMEFINISH_SITUATION.NOTWIN_FINISH,e._gameResultData=null,e._gameFortuneTimes=0,e._gameFreeCount=0,e._gameStatus=E.GAME_STATUS.GAME_FREE,e}i(e,t);var s=e.prototype;return s.start=function(){this.resizeBottomBg(),h.on("window-resize",this.resizeBottomBg,this),this.sbNodeControl.setMainScene(this),this.footScoreControl.updateWallet(),C.wChipNum=Ct[this._chipIndex],this.footScoreControl.updateChip(),F.initAudioControl(),this.changeBtnSoundFrame(),this.showSoundOff(),B.inst.on("ROLL_STOP",this.rollStop,this),B.inst.on("DARKUI_SHOWITEM",this.showItem,this),B.inst.on("CHOSEBETVIEW_CHANGECHIP",this.changeChip,this),B.inst.on("AUTOBUTTON_CLICK",this.stopGameAuto,this),B.inst.on("CHOSEAUTOVIEW_CONFIRM",this.setGameAuto,this),B.inst.on("HTTPRESPOND_GAMERESULT",this.onHttpGameResult,this),B.inst.on("MAINSCENE_GAMEFINISH",this.gameFinish,this),B.inst.on("BIGWINEFFECT_FINISH",this.bigWinEffectFinish,this),B.inst.on("FORTUNERABBIT_FAIL",this.fortuneRabbitFail,this),B.inst.on("FORTUNERABBIT_SUCCESS",this.fortuneRabbitSuccess,this),B.inst.on("FORTUNERABBIT_FINISH",this.fortuneRabbitFinish,this),B.inst.on("INFOBAR_FORTUNEWINEFFECT",this.setInfoBarFortuneWin,this),B.inst.on("FORTUNEGAME_ONEROUNDFINISH",this.fortuneGameFinish,this),this.setRabbitAniListener();var t=[E.PRIZESYMBOL_STARTINDEX+50,E.PRIZESYMBOL_STARTINDEX+500,E.PRIZESYMBOL_STARTINDEX+2500,E.PRIZESYMBOL_STARTINDEX+5e3];this.setRollNodesData([7,5,5],t,[7,5,5]),this.schedule(this.updateTopRabbitAni,60)},s.update=function(t){},s.onDestroy=function(){h.off("window-resize",this.resizeBottomBg,this),B.inst.off("ROLL_STOP"),B.inst.off("DARKUI_SHOWITEM"),B.inst.off("CHOSEBETVIEW_CHANGECHIP"),B.inst.off("AUTOBUTTON_CLICK"),B.inst.off("CHOSEAUTOVIEW_CONFIRM"),B.inst.off("HTTPRESPOND_GAMERESULT"),B.inst.off("MAINSCENE_GAMEFINISH"),B.inst.off("BIGWINEFFECT_FINISH"),B.inst.off("FORTUNERABBIT_FAIL"),B.inst.off("FORTUNERABBIT_SUCCESS"),B.inst.off("FORTUNERABBIT_FINISH"),B.inst.off("INFOBAR_FORTUNEWINEFFECT"),B.inst.off("FORTUNEGAME_ONEROUNDFINISH"),this.unschedule(this.updateTopRabbitAni)},s.updateTopRabbitAni=function(){this._gameFreeCount++,this._gameStatus==E.GAME_STATUS.GAME_FREE&&this._gameFreeCount>=3&&(this.topRabbit.getComponent(f.Skeleton).setAnimation(0,"idle3",!1),this._gameFreeCount=0)},s.test=function(){console.log("窗口变化test",h.windowSize)},s.resizeBottomBg=function(){var t,e=this.node.getChildByName("bottom_bg").getComponent(m).contentSize,i=c.getDesignResolutionSize(),o=h.windowSize.width/i.width,n=h.windowSize.height/i.height,s=(e.width,e.height,0);if(o>n){var a=e.width*n;a<h.windowSize.width&&(s=h.windowSize.width/a)}else if(o<n){var r=e.height*o;s=h.windowSize.height/r}s>0&&(null==(t=this.node.getChildByName("bottom_bg"))||t.setScale(s,s))},s.btnChangeChip=function(t,e){"MinusChip"==e&&(this._chipIndex>0?this._chipIndex--:this.alertTip("Aposta mínima",1)),"AddChip"==e&&(this._chipIndex<Ct.length-1?this._chipIndex++:this.alertTip("Aposta máxima",1)),C.wChipNum=Ct[this._chipIndex],this.footScoreControl.changeChip()},s.changeChip=function(){this.footScoreControl.changeChip()},s.alertTip=function(t,e){if(this.tipNode){var i=this.node.getChildByName("tipShow");if(i&&i.destroy(),i=p(this.tipNode),this.node.addChild(i),i.setSiblingIndex(-1),i.setPosition(0,-287),1==e)i.getComponent(R).showTip(t);else{var o=C.wTurboOn?1:0;i.getComponent(R).showTip(t,o)}}},s.btnTurbo=function(t,e){F.playEffect("menu_icon_press");var i=t.target.getComponent(d),o="";C.wTurboOn?(C.wTurboOn=!1,o="Rodada turbo desativada",i.play("btn_turbo_off")):(C.wTurboOn=!0,o="Rodada turbo ativada",i.play("btn_turbo_on")),this.alertTip(o,2)},s.btnAuto=function(){F.playEffect("menu_icon_press");var t=p(this.autoView),e=this.node.getChildByName("viewBg");t&&e&&!e.getChildByName("choseAutoView")&&e.addChild(t)},s.btnMenu=function(){var t=this;F.playEffect("menu_icon_press");this.footBtnNode.active&&(this.sprSoundOff.active&&(this.sprSoundOff.active=!1),g(this.footBtnNode).by(.2,{position:new I(0,-365,0)}).call((function(){t.sbNodeControl.node.active=!1,t.footBtnNode.active=!1})).start(),g(this.menuBg).call((function(){t.menuBg.active=!0})).by(.2,{position:new I(0,365,0)}).start())},s.onMenu=function(t,e){var i=this;if(F.playEffect("menu_icon_press"),"close"==e){this.footBtnNode.active||(g(this.footBtnNode).call((function(){i.footBtnNode.active=!0})).by(.2,{position:new I(0,365,0)}).call((function(){i.sbNodeControl.node.active=!0})).start(),g(this.menuBg).by(.2,{position:new I(0,-365,0)}).call((function(){i.menuBg.active=!1})).start()),F.saveAudioOption(),this.showSoundOff()}else if("sound"==e)F.setAudioOn(),this.changeBtnSoundFrame();else if("rule"==e){if(this.gameRuleView&&!this.node.getChildByName("GameRuleView")){var o=p(this.gameRuleView);o.name="GameRuleView",this.node.addChild(o)}}else if("payTable"==e&&this.payTableView&&!this.node.getChildByName("PayTableView")){var n=p(this.payTableView);n.name="PayTableView",this.node.addChild(n)}},s.setViewBtnStatus=function(t){var e=this.footBtnNode.getChildByName("btn_add").getComponent(S),i=this.footBtnNode.getChildByName("btn_minus").getComponent(S),o=this.footBtnNode.getChildByName("btn_auto").getComponent(S),n=this.footBtnNode.getChildByName("btn_menu").getComponent(S),s=o.node.getComponent(N);e.interactable=t,i.interactable=t,o.interactable=t,n.interactable=t,s.opacity=t?255:40,this.footScoreControl.setNodeTouchStatus(t)},s.changeBtnSoundFrame=function(){var t=this.menuBg.getChildByName("btn_sound");t&&(F._audioOn?t.getComponent(b).spriteFrame=this.btnSoundFrame[1]:t.getComponent(b).spriteFrame=this.btnSoundFrame[0])},s.showSoundOff=function(){F._audioOn||(this.sprSoundOff.active=!0)},s.startRoll=function(){var t=this;this.rollNodes[0].getComponent(A).setRollStatus(E.ROLL_STATUS.RollNormal),setTimeout((function(){t.rollNodes[1].getComponent(A).setRollStatus(E.ROLL_STATUS.RollNormal)}),200),setTimeout((function(){t.rollNodes[2].getComponent(A).setRollStatus(E.ROLL_STATUS.RollNormal)}),400)},s.readyEndRoll=function(){var t=this,e=C.wTurboOn?200:1200;setTimeout((function(){t.rollNodes[0].getComponent(A).setRollStatus(E.ROLL_STATUS.ReadyStop)}),e)},s.rollStop=function(){var t=this;F.playEffect("iconRow_end"),this._rollNodeIndex+=1,this._rollNodeIndex<this.rollNodes.length?this.rollNodes[this._rollNodeIndex].getComponent(A).setRollStatus(E.ROLL_STATUS.ReadyStop):(this._rollNodeIndex=0,C._gameFortuneRabbit?setTimeout((function(){t.fortuneGameResult()}),300):setTimeout((function(){t.showGameResult()}),300))},s.setRollNodesData=function(t,e,i){this.rollNodes[0].getComponent(A).setShowItemData(t),this.rollNodes[1].getComponent(A).setShowItemData(e),this.rollNodes[2].getComponent(A).setShowItemData(i)},s.startGame=function(){var t=this;return C.wUserScore<C.wChipNum?(this.alertTip("分数不足！",1),this._gameAutoTimes>0&&this.stopGameAuto(),!1):(this._gameStatus=E.GAME_STATUS.GAME_START,C._gameFortuneRabbit&&(setTimeout((function(){t.gameViewControl.setViewBg(0)}),500),C._gameFortuneRabbit=!1),C.wUserWin=0,this.footScoreControl.updateWin(),this.showItemNode.getComponent(O).hide(),this.winEffectShow.active&&(this.winEffectShow.active=!1),this.infoBar.getComponent(y).switchInfoByIndex(E.INFOBAR_INDEX.RANDOMINFO),this.startRoll(),this.setViewBtnStatus(!1),M.inst.sendGameResult(),!0)},s.showItem=function(t,e){C._gameFortuneRabbit||this.showItemNode.getComponent(O).showItem(t,e)},s.showWinEffect=function(t,e,i){this.winEffectShow.active||(this.winEffectShow.active=!0,this.winEffectShow.getComponent(v).showWinEffect(t,e,i,this._gameAutoTimes>0))},s.showGameResult=function(){if(this._gameResultData){var t=C.wUserWin,e=this._gameResultData.winMultiple;if(t>0){var i=this._gameResultData.props[0].rewardscharscore.length>=5;e<=12?this.topRabbit.getComponent(f.Skeleton).setAnimation(0,"win",!1):e<20&&this.topRabbit.getComponent(f.Skeleton).setAnimation(0,"win2",!1),e<5?(this._gameFinishSituation=E.GAMEFINISH_SITUATION.WINEFEECT_FINISH,this.showWinEffect(this._gameResultData.props[0].rewardline,e,i),this.infoBar.getComponent(y).switchInfoByIndex(E.INFOBAR_INDEX.WINEFFECT,t)):e<20?(this._gameFinishSituation=E.GAMEFINISH_SITUATION.MOREWINEFFECT_FINISH,this.showWinEffect(this._gameResultData.props[0].rewardline,e,i),this.infoBar.getComponent(y).switchInfoByIndex(E.INFOBAR_INDEX.MOREWINEFFECT,t)):(this._gameFinishSituation=E.GAMEFINISH_SITUATION.BIGWINEFFECT_FINISH,this.showWinEffect(this._gameResultData.props[0].rewardline,e,i))}else this._gameFinishSituation=E.GAMEFINISH_SITUATION.NOTWIN_FINISH,this.gameFinish(E.GAMEFINISH_SITUATION.NOTWIN_FINISH);this.sbNodeControl.setArrowRoll(!1)}},s.showFortuneGameResult=function(){if(this._gameResultData){F.playNormalBgm();var t=C.wUserWin,e=this._gameResultData.winMultiple;t>0?e<5?this.infoBar.getComponent(y).switchInfoByIndex(E.INFOBAR_INDEX.WINEFFECT,t):e<20?this.infoBar.getComponent(y).switchInfoByIndex(E.INFOBAR_INDEX.MOREWINEFFECT,t):this.bigWinEffect.showBigWin(t,e):this.gameFinish(E.GAMEFINISH_SITUATION.NOTWIN_FINISH),this._gameFinishSituation=E.GAMEFINISH_SITUATION.GAMEFORTUNE_FINISH,this.sbNodeControl.setArrowRoll(!1)}},s.bigWinEffectFinish=function(){this.topRabbit.getComponent(f.Skeleton).setAnimation(0,"win3",!1),this.infoBar.getComponent(y).switchInfoByIndex(E.INFOBAR_INDEX.BIGWINEFFECT,C.wUserWin)},s.gameFinish=function(t){if(this._gameResultData)return t==this._gameFinishSituation?(C.wUserWin>0&&this.footScoreControl.updateWin(),this._gameResultData=null,this.footScoreControl.updateWallet(),this._gameFreeCount=0,this._gameStatus=E.GAME_STATUS.GAME_FREE,void(this._gameAutoTimes>0?this.autoStartGame():(this.setViewBtnStatus(!0),this.sbNodeControl.noticeGameFinish()))):void(this._gameFinishSituation==E.GAMEFINISH_SITUATION.BIGWINEFFECT_FINISH&&t==E.GAMEFINISH_SITUATION.WINEFFECTANI_FINISH?C.wUserWin>0&&this.bigWinEffect.showBigWin(C.wUserWin,this._gameResultData.winMultiple):this._gameFinishSituation==E.GAMEFINISH_SITUATION.GAMEFORTUNE_FINISH&&this.exitGameFortune())},s.fortuneGameResult=function(){var t=this._gameResultData.props[this._gameFortuneTimes];parseFloat(t.totalrollerbet)>0?this.showWinEffect(null,0,!0):this.fortuneGameFinish()},s.fortuneGameFinish=function(){if(this._gameFortuneTimes++,this.gameViewControl.updateFortuneInfo(E.FORTUNEGAME_TIMES-this._gameFortuneTimes),this._gameFortuneTimes<E.FORTUNEGAME_TIMES){var t=this._gameResultData.props[this._gameFortuneTimes];if(t){this.winEffectShow.active&&(this.winEffectShow.active=!1),this.startRoll();var e=[];if(10==t.roller.length&&(e.push([t.roller[0],t.roller[1],t.roller[2]]),e.push([t.roller[3],t.roller[4],t.roller[5],t.roller[6]]),e.push([t.roller[7],t.roller[8],t.roller[9]])),e.length>0){for(var i=0;i<this.rollNodes.length;i++)this.rollNodes[i].getComponent(A).setShowItemData(e[i]);this.readyEndRoll()}}}else this.showFortuneGameResult()},s.autoStartGame=function(){this._gameAutoTimes<=0||(this._gameAutoTimes--,this.autoBtnControl.updateAutoTimes(this._gameAutoTimes-1),this._gameAutoTimes>0?this.startGame():this.stopGameAuto())},s.stopGameAuto=function(){this._gameAutoTimes=0,this.sbNodeControl.node.active=!0,this.autoBtnControl.node.active=!1,this.setViewBtnStatus(!0)},s.setGameAuto=function(t){var e=this;t>0&&this._gameAutoTimes<=0&&(this._gameAutoTimes=t,this.sbNodeControl.node.active=!1,this.autoBtnControl.node.active=!0,this.autoBtnControl.updateAutoTimes(this._gameAutoTimes),setTimeout((function(){e.startGame(),e.autoBtnControl.updateAutoTimes(e._gameAutoTimes-1)}),500))},s.onHttpGameResult=function(t){this._gameResultData=t,C.wUserScore=parseFloat(t.end_gold),C.wUserWin=parseFloat(t.total_win);var e=parseFloat(t.bet_gold);this._gameResultData.winMultiple=Math.round(C.wUserWin/e);var i=[],o=t.props[0].roller;if(10==o.length&&(i.push([o[0],o[1],o[2]]),i.push([o[3],o[4],o[5],o[6]]),i.push([o[7],o[8],o[9]])),i.length>0){for(var n=0;n<this.rollNodes.length;n++)this.rollNodes[n].getComponent(A).setShowItemData(i[n]);this._gameResultData.type>0?this.goFortuneRabbit(this._gameResultData.type):this.readyEndRoll()}},s.setRabbitAniListener=function(){var t=this.topRabbit.getComponent(f.Skeleton);t.setCompleteListener((function(e){switch(e.animation.name){case"win":case"win2":case"win3":t.setAnimation(0,"idle",!0);break;case"tease_start":t.setAnimation(0,"tease_idle",!0);break;case"tease_exit":case"respawn":case"idle3":t.setAnimation(0,"idle",!0)}}))},s.fortuneRabbitFail=function(){this.topRabbit.getComponent(f.Skeleton).setAnimation(0,"tease_exit",!1),this.rollNodes[0].getComponent(A).setRollStatus(E.ROLL_STATUS.ReadyStop)},s.goFortuneRabbit=function(t){F.playEffect("fs_start"),this.topRabbit.getComponent(f.Skeleton).setAnimation(0,"tease_start",!1),this.gameViewControl.goFortuneRabbit(t)},s.fortuneRabbitSuccess=function(){F.playEffect("fs_success"),F.playFsBgm(),this.topRabbit.getComponent(f.Skeleton).setAnimation(0,"freespin",!1),this.setBottomBtn(!1),this._gameFortuneTimes=0},s.fortuneRabbitFinish=function(){F.setFsBgmVolume(),this.gameViewControl.removeFortuneRabbitView(),this.rollNodes[0].getComponent(A).setRollStatus(E.ROLL_STATUS.ReadyStop)},s.setInfoBarFortuneWin=function(t){this.infoBar.getComponent(y).switchInfoByIndex(E.INFOBAR_INDEX.FORTUNEWINEFFECT,t)},s.setBottomBtn=function(t){var e=null;t?(this.footBtnNode.active=!0,e=this._gameAutoTimes>0?this.autoBtnControl.node:this.sbNodeControl.node,g(e.getComponent(N)).to(.2,{opacity:255}).call((function(){e.active=!0})).start()):(this.footBtnNode.active=!1,e=this.sbNodeControl.node.active?this.sbNodeControl.node:this.autoBtnControl.node,g(e.getComponent(N)).to(.2,{opacity:0}).call((function(){e.active=!1})).start())},s.exitGameFortune=function(){this.topRabbit.getComponent(f.Skeleton).setAnimation(0,"respawn",!1),this.gameViewControl.node.getComponent(d).play("fortuneRabbit_end"),this.setBottomBtn(!0),this.gameViewControl.setfortuneInfo(!1)},e}(_)).prototype,"sbNodeControl",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(ot.prototype,"footScoreControl",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(ot.prototype,"tipNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(ot.prototype,"menuBg",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(ot.prototype,"footBtnNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(ot.prototype,"btnSoundFrame",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ht=e(ot.prototype,"sprSoundOff",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(ot.prototype,"rollNodes",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mt=e(ot.prototype,"showItemNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(ot.prototype,"infoBar",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(ot.prototype,"winEffectShow",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(ot.prototype,"autoView",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(ot.prototype,"autoBtnControl",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=e(ot.prototype,"topRabbit",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e(ot.prototype,"bigWinEffect",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=e(ot.prototype,"gameViewControl",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(ot.prototype,"gameRuleView",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=e(ot.prototype,"payTableView",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=ot))||it));s._RF.pop()}}}));

System.register("chunks:///_virtual/RollControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RollItem.ts","./Constants.ts","./GlobalEvent.ts","./GlobalData.ts"],(function(t){var e,o,i,n,l,s,a,r,h,u,d,c,m,_,I,f,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,l=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy,a=t._decorator,r=t.Prefab,h=t.randomRange,u=t.instantiate,d=t.Component,c=t.tween,m=t.Vec3},function(t){_=t.RollItem},function(t){I=t.Constants},function(t){f=t.GlobalEvent},function(t){p=t.globalData}],execute:function(){var S,R,C,y,g,v;s._RF.push({},"36a86rzVGFKuahxDbR+XeT/","RollControl",void 0);var T=a.ccclass,L=a.property,w=.02;t("RollControl",(S=T("RollControl"),R=L(r),S((g=e((y=function(t){function e(){for(var e,o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return e=t.call.apply(t,[this].concat(l))||this,i(e,"showItemCount",g,n(e)),i(e,"rollItems",v,n(e)),e._totalItemCount=0,e._startPosY=0,e._rollStatus=I.ROLL_STATUS.RollStop,e._checkNodeIndex=0,e._readyEnd=!1,e._showItemData=null,e._rollSpeed=w,e}o(e,t);var s=e.prototype;return s.start=function(){this.initData(),this.initItems()},s.update=function(t){},s.onDestroy=function(){this.unschedule(this.updateRoll)},s.initItems=function(){if(this._showItemData&&this._showItemData.length==this.showItemCount)for(var t=0;t<this._totalItemCount;t++)t<this.showItemCount?this.createRollItem(this._showItemData[t],t):this.randomCreateRollItem(t,!1)},s.initData=function(){this._totalItemCount=this.node.children.length;var t=this.node.getChildByName("item_0");this._startPosY=t.getPosition().y,this._checkNodeIndex=0},s.updateRoll=function(){if(this._rollStatus!=I.ROLL_STATUS.RollStop){for(var t,e=l(this.node.children);!(t=e()).done;){var o=t.value,i=o.getPosition();i.y-=80,o.setPosition(i)}var n=this.node.getChildByName("item_"+this._checkNodeIndex);if(n)n.getPosition().y<=this._startPosY-178&&(this.randomCreateRollItem(this._checkNodeIndex,!0),this._rollStatus==I.ROLL_STATUS.ReadyStop&&(this._checkNodeIndex==this.showItemCount&&this.preloadResult(),this._readyEnd&&this._checkNodeIndex==this._totalItemCount-1&&this.setRollStatus(I.ROLL_STATUS.RollStop)),this._checkNodeIndex+=1,this._checkNodeIndex>=this._totalItemCount&&(this._checkNodeIndex=0))}},s.setRollStatus=function(t){if(!(t<I.ROLL_STATUS.RollNormal||t>I.ROLL_STATUS.RollStop)&&t!=this._rollStatus)if(this._rollStatus=t,this._rollStatus==I.ROLL_STATUS.RollNormal){var e=p.wTurboOn?.01:w;this.schedule(this.updateRoll,e)}else this._rollStatus==I.ROLL_STATUS.RollStop&&(this.unschedule(this.updateRoll),this._readyEnd=!1,f.inst.emit("ROLL_STOP"),this.rollStop())},s.preloadResult=function(){for(var t=0;t<this._showItemData.length;t++)this.createRollItem(this._showItemData[t],this.showItemCount-1-t);this._readyEnd=!0},s.randomCreateRollItem=function(t,e){var o=0;if(p._gameFortuneRabbit){var i=[0,8];o=i[Math.floor(h(0,i.length))]}else o=Math.floor(h(1,this.rollItems.length));var n=u(this.rollItems[o]);if(n){n.getComponent(_).tryRandomCashNum();var l=this.node.getChildByName("item_"+t);l&&(l.destroyAllChildren(),l.addChild(n),e&&l.setPosition(0,this._startPosY+178*(this._totalItemCount-1)))}},s.createRollItem=function(t,e){var o=null;if(t>I.PRIZESYMBOL_STARTINDEX){o=u(this.rollItems[I.ROLLITEM_TYPE.S_CASH]);var i=(t-I.PRIZESYMBOL_STARTINDEX)/10;o.getComponent(_).setCashNum(i)}else t<this.rollItems.length-1&&t>=0&&(o=u(this.rollItems[t]));if(o){var n=this.node.getChildByName("item_"+e);n&&(n.destroyAllChildren(),n.addChild(o)),o.getComponent(_).setShowAniNode()}},s.setShowItemData=function(t){this._showItemData=t},s.rollStop=function(){for(var t=this,e=function(){var e=t.node.getChildByName("item_"+o);e.setPosition(0,t._startPosY+178*o),c(e).by(.1,{position:new m(0,-10,0)}).by(.1,{position:new m(0,20,0)}).by(.1,{position:new m(0,-10,0)}).call((function(){e.getComponentInChildren(_).rollStop()})).start()},o=0;o<this._totalItemCount;o++)e()},s.setFasterSpeed=function(t){this._rollSpeed=t?.01:w},s.getPrizeSymbolNode=function(t){for(var e=0;e<this.showItemCount;e++){var o=this.node.getChildByName("item_"+e);o.getComponentInChildren(_).typeID==I.ROLLITEM_TYPE.S_CASH&&t.push(o.children[0])}},e}(d)).prototype,"showItemCount",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),v=e(y.prototype,"rollItems",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=y))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/RollItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./GlobalEvent.ts","./GlobalData.ts"],(function(t){var n,e,o,i,a,s,r,h,l,u,c,m,p,N,f,g,_;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Node,h=t.Font,l=t.SpriteFrame,u=t.sp,c=t.Animation,m=t.randomRange,p=t.Label,N=t.Component},function(t){f=t.Constants},function(t){g=t.GlobalEvent},function(t){_=t.globalData}],execute:function(){var d,y,I,T,C,b,E,R,S,F,L,D;a._RF.push({},"6e5c9ZEF7JE9bXeTpyB6Dv2","RollItem",void 0);var v=s.ccclass,A=s.property,O=[.5,1,2,5,10,20,50,100,250,500];t("RollItem",(d=v("RollItem"),y=A(r),I=A(r),T=A(h),C=A(l),d((R=n((E=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,o(n,"normalNode",R,i(n)),o(n,"blurNode",S,i(n)),o(n,"typeID",F,i(n)),o(n,"cashNumFont",L,i(n)),o(n,"cashFrame",D,i(n)),n._cashNum=0,n}e(n,t);var a=n.prototype;return a.start=function(){this.node.on(r.EventType.TOUCH_END,this.onTouch,this)},a.update=function(t){},a.rollStop=function(){if(this.normalNode.active)if(this.typeID>=f.ROLLITEM_TYPE.H_CARROT&&this.typeID<=f.ROLLITEM_TYPE.H_INGOT)this.normalNode.getComponent(u.Skeleton).setAnimation(0,"spawn",!1);else if(this.typeID==f.ROLLITEM_TYPE.S_RABBIT){this.normalNode.getComponent(u.Skeleton).setAnimation(0,"idle",!0)}},a.win=function(){if(this.typeID>=f.ROLLITEM_TYPE.H_CARROT&&this.typeID<=f.ROLLITEM_TYPE.H_INGOT)this.normalNode.getComponent(u.Skeleton).setAnimation(0,"win",!0);else if(this.typeID==f.ROLLITEM_TYPE.S_RABBIT){this.normalNode.getComponent(u.Skeleton).setAnimation(0,"win",!0)}else this.typeID==f.ROLLITEM_TYPE.S_CASH&&this.normalNode.getComponent(c).play()},a.setShowAniNode=function(){this.normalNode.active=!0,this.blurNode.active=!1},a.tryRandomCashNum=function(){if(this.typeID==f.ROLLITEM_TYPE.S_CASH){var t=Math.floor(m(0,O.length));this._cashNum=O[t]*_.wChipNum;var n=this.normalNode.getChildByName("cash_note").getComponentsInChildren(p);if(n.length<2)return;var e=this.blurNode.getChildByName("cash_num").getComponent(p);this.cashNumFont.length>0&&(O[t]>=10&&O[t]<50?(n[0].font=this.cashNumFont[1],n[1].font=this.cashNumFont[1],e.font=this.cashNumFont[1]):O[t]>=50&&(n[0].font=this.cashNumFont[2],n[1].font=this.cashNumFont[2],e.font=this.cashNumFont[2])),n[0].string=this._cashNum.toString().replace(".",","),n[1].string=this._cashNum.toString().replace(".",","),e.string=this._cashNum.toString().replace(".",",")}},a.setCashNum=function(t){if(this.typeID==f.ROLLITEM_TYPE.S_CASH){this._cashNum=t*_.wChipNum;var n=this.normalNode.getChildByName("cash_note").getComponentsInChildren(p);if(!(n.length<2)){var e=this.blurNode.getChildByName("cash_num").getComponent(p);this.cashNumFont.length>0&&(t>=10&&t<50?(n[0].font=this.cashNumFont[1],n[1].font=this.cashNumFont[1],e.font=this.cashNumFont[1]):t>=50&&(n[0].font=this.cashNumFont[2],n[1].font=this.cashNumFont[2],e.font=this.cashNumFont[2])),n[0].string=this._cashNum.toString().replace(".",","),n[1].string=this._cashNum.toString().replace(".",","),e.string=this._cashNum.toString().replace(".",",")}}},a.getTopCashNum=function(){return this.typeID!=f.ROLLITEM_TYPE.S_CASH?null:this.normalNode.getChildByName("cash_note").getChildByName("cash_num")},a.onTouch=function(t){this.normalNode.active&&g.inst.emit("DARKUI_SHOWITEM",this.node,this.typeID)},n}(N)).prototype,"normalNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(E.prototype,"blurNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(E.prototype,"typeID",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=n(E.prototype,"cashNumFont",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=n(E.prototype,"cashFrame",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=E))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/RollValueItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalEvent.ts"],(function(t){var e,n,o,i,r,l,s,u,a,h,c,d,V;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.Node,u=t.UITransform,a=t.Vec3,h=t.Vec2,c=t.tween,d=t.Component},function(t){V=t.GlobalEvent}],execute:function(){var T,g,f,p,y,_,v,I;r._RF.push({},"aba48+hVARPm5nxTPmXpR5X","RollValueItem",void 0);var E=l.ccclass,x=l.property;t("RollValueItem",(T=E("RollValueItem"),g=x(s),f=x(s),T((_=e((y=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,o(e,"rollValueArr",_,i(e)),o(e,"contentNode",v,i(e)),o(e,"typeID",I,i(e)),e._curValueIndex=-1,e._isTouchMove=!1,e._itemDistanceY=0,e}n(e,t);var r=e.prototype;return r.start=function(){if(this.rollValueArr.length>0){this.node.on(s.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(s.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(s.EventType.MOUSE_WHEEL,this.onMouseWheel,this),this.node.on(s.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(s.EventType.TOUCH_CANCEL,this.onTouchCancle,this);var t=this.contentNode.getComponent(u).getBoundingBox().height,e=this.rollValueArr[0].getComponent(u).getBoundingBox().height;this._itemDistanceY=(t-e)/(this.rollValueArr.length+1)}},r.update=function(t){},r.onTouchStart=function(t){this._isTouchMove=!1,V.inst.emit("CHOSEBETVIEW_SETBUTTON",!1)},r.onTouchEnd=function(t){var e=-1;if(this._isTouchMove)(e=this.getValueIndexByCenterPos())>=0&&(this._curValueIndex=-1);else for(var n=t.getUILocation(),o=this.contentNode.getComponent(u).convertToNodeSpaceAR(new a(n.x,n.y,0)),i=0;i<this.rollValueArr.length;i++)if(this.rollValueArr[i].getComponent(u).getBoundingBox().contains(new h(o.x,o.y))){e=i;break}e>=0?this.setValueIndex(e,!0):this.delaySetButtonStatus()},r.onMouseWheel=function(t){var e=-1;t.getScrollY()>0?this._curValueIndex<this.rollValueArr.length-1&&(e=this._curValueIndex+1):this._curValueIndex>0&&(e=this._curValueIndex-1),V.inst.emit("CHOSEBETVIEW_SETBUTTON",!1),e>=0?this.setValueIndex(e,!0):this.delaySetButtonStatus()},r.onTouchMove=function(t){var e=t.getDeltaY();this._isTouchMove=!0;var n=this.contentNode.getPosition(),o=n.y+e,i=this.rollValueArr[0].getPosition().y;o<i&&o>-i&&this.contentNode.setPosition(n.x,o)},r.onTouchCancle=function(){if(this._isTouchMove){var t=this.getValueIndexByCenterPos();t>=0?(this._curValueIndex=-1,this.setValueIndex(t,!0)):this.delaySetButtonStatus()}},r.setValueIndex=function(t,e){var n=this;if(void 0===e&&(e=!1),t!=this._curValueIndex&&t>=0&&t<this.rollValueArr.length){this._curValueIndex=t;var o=-this.rollValueArr[t].getPosition().y,i=this.contentNode.getPosition(),r=.1;this._itemDistanceY>0&&(r=Math.min(Math.abs(i.y-o)/this._itemDistanceY*.1,.5)),c(this.contentNode).to(r,{position:new a(i.x,o,0)}).delay(r).call((function(){e&&(V.inst.emit("CHOSEBETVIEW_ROLLVALUECHANGE",n),n.delaySetButtonStatus())})).start()}},r.setMaxValue=function(){this.setValueIndex(this.rollValueArr.length-1)},r.getCurValueIndex=function(){return this._curValueIndex},r.getValueIndexByCenterPos=function(){for(var t=-1,e=-this.contentNode.getPosition().y,n=0;n<this.rollValueArr.length;n++){if(Math.abs(this.rollValueArr[n].getPosition().y-e)<=this._itemDistanceY/2){t=n;break}}return t},r.delaySetButtonStatus=function(){setTimeout((function(){V.inst.emit("CHOSEBETVIEW_SETBUTTON",!0)}),500)},r.isMaxValue=function(){return this._curValueIndex==this.rollValueArr.length-1},e}(d)).prototype,"rollValueArr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=e(y.prototype,"contentNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(y.prototype,"typeID",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=y))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/SbNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts"],(function(e){var r,t,o,n,i,a,s,l,m,p,c,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.SpriteFrame,l=e.Node,m=e.Animation,p=e.Sprite,c=e.Component},function(e){u=e.audioMgr}],execute:function(){var h,w,f,d,b,F,g,v,y,N,S,_,A;i._RF.push({},"d4db4gwkkxMt6W99hoefYvF","SbNode",void 0);var E=a.ccclass,C=a.property;e("SbNode",(h=E("SbNode"),w=C(s),f=C(s),d=C(l),b=C(l),F=C(m),h((y=r((v=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i))||this,o(r,"arrowNormalFrame",y,n(r)),o(r,"arrowGreyFrame",N,n(r)),o(r,"arrowNode",S,n(r)),o(r,"btnStart",_,n(r)),o(r,"sbHoverAni",A,n(r)),r._mainScene=null,r._arrowRollFinish=!0,r._gameFinish=!0,r}t(r,e);var i=r.prototype;return i.start=function(){var e=this;this.node.getComponent(m).on(m.EventType.PLAY,this.onAnimationEvent,this),this.btnStart.on(l.EventType.MOUSE_ENTER,(function(){e.sbHoverAni.node.active=!0,e.sbHoverAni.play()}),this),this.btnStart.on(l.EventType.MOUSE_LEAVE,(function(){e.sbHoverAni.node.active=!1,e.sbHoverAni.stop()}),this)},i.update=function(e){},i.setMainScene=function(e){this._mainScene=e},i.onStartButton=function(){var e=this.node.getComponent(m);if(this._arrowRollFinish){if(!e.getState("btn_click").isPlaying){if(!this._gameFinish)return void(this.arrowNode.getComponent(p).spriteFrame=this.arrowGreyFrame[0]);this._mainScene.startGame()&&(u.playEffect("click_spin"),e.play(),this._gameFinish=!1)}}else this.arrowNode.getComponent(p).spriteFrame.name!=this.arrowGreyFrame[1].name&&(this.arrowNode.getComponent(p).spriteFrame=this.arrowGreyFrame[1])},i.onAnimationEvent=function(e,r){this.arrowNode.getComponent(m);e==m.EventType.PLAY?this.setArrowRoll(!0):m.EventType.FINISHED},i.setArrowRoll=function(e){var r=this.arrowNode.getComponent(m);e?(r.getState("arrow_roll").speed=4,this.arrowNode.getComponent(p).spriteFrame=this.arrowNormalFrame[1],this._arrowRollFinish=!1):(r.getState("arrow_roll").speed=1,this.arrowNode.getComponent(p).spriteFrame=this.arrowNormalFrame[0],this._arrowRollFinish=!0)},i.noticeGameFinish=function(){this.arrowNode.getComponent(p).spriteFrame.name!=this.arrowNormalFrame[0].name&&(this.arrowNode.getComponent(p).spriteFrame=this.arrowNormalFrame[0]),this._gameFinish=!0},r}(c)).prototype,"arrowNormalFrame",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=r(v.prototype,"arrowGreyFrame",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=r(v.prototype,"arrowNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=r(v.prototype,"btnStart",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=r(v.prototype,"sbHoverAni",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/ShowItemNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(t){var e,o,i,n,r,a,s,l,d,h,c,u,m,p,g,I,N,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,l=t.Prefab,d=t.view,h=t.instantiate,c=t.UITransform,u=t.Vec3,m=t.Label,p=t.sp,g=t.tween,I=t.UIOpacity,N=t.Component},function(t){w=t.Constants}],execute:function(){var f,C,v,y,S,k,_,b,U;r._RF.push({},"4ecc3/0ZXNJeJkrq82IH5s8","ShowItemNode",void 0);var P=a.ccclass,z=a.property,B=[0,2,3,5,10,50,100,200];t("ShowItemNode",(f=P("ShowItemNode"),C=z(s),v=z(l),y=z(s),f((_=e((k=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"darkUI",_,n(e)),i(e,"showItemNode",b,n(e)),i(e,"contentNode",U,n(e)),e._itemNodewPos=null,e}o(e,t);var r=e.prototype;return r.start=function(){},r.update=function(t){},r.showItem=function(t,e){this.darkUI.active||this.showDarkUI(!0),this.contentNode.children.length>0&&this.contentNode.destroyAllChildren();var o=t.getWorldPosition();if(this._itemNodewPos&&this._itemNodewPos.equals(o))this.showDarkUI(!1),this._itemNodewPos=null;else{var i=d.getDesignResolutionSize(),n=null;if(n=o.x<=i.width/2?h(this.showItemNode[0]):h(this.showItemNode[1])){var r=n.getChildByName("itemNode"),a=r.getPosition().x,s=h(t);s.setPosition(a,0),n.addChild(s),s.pauseSystemEvents(!0);var l=n.getComponent(c).contentSize,g=s.getComponent(c).getBoundingBox();n.getComponent(c).setContentSize(l.width,g.height+50);var I=this.node.getComponent(c).convertToNodeSpaceAR(new u(o.x+-a,o.y,o.z));n.setPosition(I),n.setSiblingIndex(-1),this.contentNode.addChild(n),r.getComponent(c).setContentSize(g.width,g.height);var N=r.getChildByName("lab_num"),f=r.getChildByName("lab_num2"),C=n.getChildByName("lab_cash");e==w.ROLLITEM_TYPE.S_CASH?(N.active=!1,f.active=!1,C.active=!0,n.getComponent(c).setContentSize(l.width+70,g.height+30)):e<B.length&&B[e]>0&&(f.getComponent(m).string=B[e].toString()),e==w.ROLLITEM_TYPE.S_RABBIT&&s.getChildByName("normalNode").getComponent(p.Skeleton).setAnimation(0,"idle",!1),this._itemNodewPos=o}}},r.showDarkUI=function(t){var e=this;if(t){if(this.darkUI.active)return;this.darkUI.active=!0,g(this.darkUI.getComponent(I)).to(.2,{opacity:180}).start()}else g(this.darkUI.getComponent(I)).to(.2,{opacity:0}).call((function(){e.darkUI.active=!1})).start()},r.hide=function(){this.darkUI.active&&(this.contentNode.destroyAllChildren(),this.darkUI.getComponent(I).opacity=0,this.darkUI.active=!1,this._itemNodewPos=null)},e}(N)).prototype,"darkUI",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(k.prototype,"showItemNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=e(k.prototype,"contentNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=k))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/TipShow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,i,r,a,s,c,l,p,u,h,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.SpriteFrame,c=t.Sprite,l=t.Label,p=t.UITransform,u=t.tween,h=t.UIOpacity,d=t.Vec3,f=t.Component}],execute:function(){var b,m,y,g,w,S,v,C,z;r._RF.push({},"7c934aXoP9Fr5CfMYMjAQp8","TipShow",void 0);var F=a.ccclass,O=a.property;t("TipShow",(b=F("TipShow"),m=O(s),y=O(c),g=O(l),b((v=e((S=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"turboFrame",v,i(e)),o(e,"turboOn",C,i(e)),o(e,"tipStr",z,i(e)),e}n(e,t);var r=e.prototype;return r.start=function(){},r.update=function(t){},r.showTip=function(t,e){var n=this;void 0===e&&(e=-1),this.tipStr.string=t,this.tipStr.updateRenderData();var o=this.tipStr.node.getComponent(p).width,i=this.node.getComponent(p).contentSize;if(e>=0){this.turboOn.spriteFrame=this.turboFrame[e];var r=this.turboOn.node.getComponent(p).width,a=40+r+o;this.node.getComponent(p).setContentSize(a,i.height),this.turboOn.node.setPosition(-a/2+20+r/2,0),this.tipStr.node.setPosition(a/2-20-o/2,0);var s=u(this.node.getComponent(h)).to(.3,{opacity:0}).call((function(){n.node.destroy()}));u(this.node).to(.15,{scale:new d(1.2,1.2,1)}).to(.05,{scale:new d(1,1,1)}).call((function(){n.turboOn.node.active=!0})).delay(1.5).call((function(){s.start()})).start()}else{this.node.getComponent(p).setContentSize(40+o,i.height);var c=u(this.node.getComponent(h)).to(.3,{opacity:0}).call((function(){n.node.destroy()}));u(this.node).to(.15,{scale:new d(1.2,1.2,1)}).to(.05,{scale:new d(1,1,1)}).delay(1.5).call((function(){c.start()})).start()}},e}(f)).prototype,"turboFrame",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(S.prototype,"turboOn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(S.prototype,"tipStr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=S))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/winEffectController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RollItem.ts","./GlobalEvent.ts","./Constants.ts","./RollControl.ts","./GlobalData.ts","./WinItem.ts","./AudioMgr.ts"],(function(t){var e,n,i,o,l,r,a,s,h,u,m,c,f,p,g,d,_,C,y,N,I,A,b,v,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,a=t.Node,s=t.Prefab,h=t.SpriteAtlas,u=t.Tween,m=t.instantiate,c=t.UITransform,f=t.Vec3,p=t.Animation,g=t.Sprite,d=t.Label,_=t.Component,C=t.tween},function(t){y=t.RollItem},function(t){N=t.GlobalEvent},function(t){I=t.Constants},function(t){A=t.RollControl},function(t){b=t.globalData},function(t){v=t.WinItem},function(t){w=t.audioMgr}],execute:function(){var P,x,E,F,B,S,W,T,D,R,z,L,H,M,G,O,U,j,k,V,Y,q,J;l._RF.push({},"8077alcUDNCHIrLoLu1L8Yj","winEffectController",void 0);var K=r.ccclass,Q=r.property,X=[{rollIndex:[2,3,2],lineIndex:1},{rollIndex:[2,2,2],lineIndex:2},{rollIndex:[2,2,1],lineIndex:3},{rollIndex:[1,2,2],lineIndex:0},{rollIndex:[1,2,1],lineIndex:1},{rollIndex:[1,1,1],lineIndex:2},{rollIndex:[1,1,0],lineIndex:3},{rollIndex:[0,1,1],lineIndex:0},{rollIndex:[0,1,0],lineIndex:1},{rollIndex:[0,0,0],lineIndex:2}];t("winEffectController",(P=K("winEffectController"),x=Q(a),E=Q(s),F=Q(a),B=Q(a),S=Q(a),W=Q(a),T=Q(a),D=Q(s),R=Q(h),z=Q(a),P((M=e((H=function(t){function e(){for(var e,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,i(e,"rollNodes",M,o(e)),i(e,"lineNodes",G,o(e)),i(e,"itemBgContent",O,o(e)),i(e,"paylineContent",U,o(e)),i(e,"itemContent",j,o(e)),i(e,"paylineNumLeft",k,o(e)),i(e,"paylineNumRight",V,o(e)),i(e,"winItemBg",Y,o(e)),i(e,"paylineNumberAtlas",q,o(e)),i(e,"labWinNum",J,o(e)),e._winData=[],e._winNum=[],e._labPosArr=[],e._itemContentArr=[],e._itemBgContentArr=[],e._tweenArr=[],e._aniPlayIndex=0,e._gameAuto=!1,e._setWinEffectFinish=!1,e}n(e,t);var l=e.prototype;return l.start=function(){},l.update=function(t){},l.onDisable=function(){u.stopAllByTarget(this.node),this.unschedule(this.updateAniPlay),this.resetData()},l.onDestroy=function(){this.unschedule(this.updateAniPlay)},l.showWinEffect=function(t,e,n,i){this._winData.length>0||(this._gameAuto=i,t&&t.length<=X.length&&(this.createNode(t),this.createAni()),n&&this.createPrizeWinNode(),e>0&&w.playLineWinEffect(e))},l.createPrizeWinNode=function(){for(var t=this,e=[],n=[],i=this.rollNodes.length-1;i>=0;i--){var o=[];this.rollNodes[i].getComponent(A).getPrizeSymbolNode(o);var l=[],r=[];if(o.length>0)for(var a=0;a<o.length;a++){var s=o[a].getWorldPosition(),h=m(this.winItemBg);h.getComponent(v).setBgLight(o[a].getComponent(y).typeID),this.itemBgContent.addChild(h),h.setPosition(this.itemBgContent.getComponent(c).convertToNodeSpaceAR(s)),r.push(h);var u=m(o[a]);u.getComponent(y)._cashNum=o[a].getComponent(y)._cashNum,this.itemContent.addChild(u),u.setPosition(this.itemContent.getComponent(c).convertToNodeSpaceAR(s)),l.push(u)}e.push(l),n.push(r)}for(var f=0;f<e[0].length;f++)e[0][f].setSiblingIndex(-1);w.playEffect("cashItem_win");for(var g=0,d=[],_=function(t){if(e[t].length<=0)return 1;for(var i=function(i){n[t]&&n[t][i]&&C(n[t][i]).delay(.1*g).call((function(){n[t][i].getComponent(p).play(),e[t][i].getComponent(y).win()})).start(),d.push(e[t][i])},o=e[t].length-1;o>=0;o--)i(o);g++},P=e.length-1;P>=0;P--)_(P);setTimeout((function(){t._setWinEffectFinish||(b._gameFortuneRabbit?t.createFortuneCashNumAni(d):N.inst.emit("MAINSCENE_GAMEFINISH",I.GAMEFINISH_SITUATION.WINEFFECTANI_FINISH),t._setWinEffectFinish=!0)}),100*(g-1)+1e3)},l.createFortuneCashNumAni=function(t){if(!(t.length<=0)){for(var e=new f(380,420,0),n=function(n){var i=t[n].getComponent(y).getTopCashNum(),o=i.parent.getComponent(c).convertToNodeSpaceAR(e);C(i).delay(.5+.5*n).to(1,{position:o}).call((function(){w.playEffect("superNumFlyEnd_"+(n+1)),N.inst.emit("INFOBAR_FORTUNEWINEFFECT",t[n].getComponent(y)._cashNum)})).removeSelf().start()},i=0;i<t.length;i++)n(i);setTimeout((function(){N.inst.emit("FORTUNEGAME_ONEROUNDFINISH")}),500*t.length+1500)}},l.createNode=function(t){for(var e=0;e<t.length;e++){var n=t[e].rewardlineid,i=t[e].rewardlinescore;if(i&&n&&n>0&&n<=X.length){var o=n-1,l=X[o].lineIndex;if(this.lineNodes[l]){var r=m(this.lineNodes[l]);r.name=o.toString(),this.paylineContent.addChild(r);var a=this.paylineNumLeft.getChildByName("payline_"+(o+1));if(a){var s=a.getWorldPosition();r.setPosition(this.paylineContent.getComponent(c).convertToNodeSpaceAR(s))}r.active=!1,this._winData.push(o),this._winNum.push(parseFloat(i));for(var h=[],u=[],f=0;f<X[o].rollIndex.length;f++){var p=this.rollNodes[f].getChildByName("item_"+X[o].rollIndex[f]);if(p){var g=f+"_"+X[o].rollIndex[f],d=null,_=null;if(this.itemContent.getChildByName(g))d=this.itemContent.getChildByName(g),_=this.itemBgContent.getChildByName(g);else{var C=p.getWorldPosition();(d=m(p)).name=g,this.itemContent.addChild(d),d.setPosition(this.itemContent.getComponent(c).convertToNodeSpaceAR(C)),d.active=!1,(_=m(this.winItemBg)).getComponent(v).setBgLight(p.getComponentInChildren(y).typeID),_.name=g,this.itemBgContent.addChild(_),_.setPosition(this.itemBgContent.getComponent(c).convertToNodeSpaceAR(C)),_.active=!1}if(d&&_&&(h.push(d),u.push(_)),1==f){var N=this.node.getComponent(c).convertToNodeSpaceAR(d.getWorldPosition());this._labPosArr.push(N)}}}h.length>0&&u.length>0&&(this._itemContentArr.push(h),this._itemBgContentArr.push(u))}}}},l.createAni=function(){for(var t=this,e=function(e){var n=C(t.node).call((function(){w.playEffect("win_line"),t.lightPaylineNumber(t._winData[e],!0),t.setItemShow(e,0)})).delay(.1).call((function(){t.setItemShow(e,1)})).delay(.1).call((function(){t.setItemShow(e,2)})).delay(1).call((function(){t.setItemHide(e),t.lightPaylineNumber(t._winData[e],!1)}));t._tweenArr.push(n)},n=0;n<this._winData.length;n++)e(n);this._tweenArr.length>0&&(this._aniPlayIndex=this._tweenArr.length,this.updateAniPlay(),this.schedule(this.updateAniPlay,1.2))},l.setItemShow=function(t,e){var n=this._itemContentArr[t][e],i=this._itemBgContentArr[t][e];n&&i&&(n.active=!0,n.getComponentInChildren(y).win(),i.active=!0,i.getComponent(p).play())},l.setItemHide=function(t){if(!(t>=this._itemContentArr.length||t>=this._itemBgContentArr.length)){for(var e=0;e<this._itemContentArr[t].length;e++)this._itemContentArr[t][e].active=!1;for(var n=0;n<this._itemBgContentArr[t].length;n++)this._itemBgContentArr[t][n].active=!1}},l.lightPaylineNumber=function(t,e){var n=this.paylineContent.getChildByName(t.toString());n&&(n.active=e);var i=this.paylineNumLeft.getChildByName("payline_"+(t+1)),o=this.paylineNumRight.getChildByName("payline_"+(t+1));if(i&&o){var l=i.getComponent(g),r=o.getComponent(g),a=e?"payline_on_left_"+(t+1):"payline_off_left_"+(t+1),s=e?"payline_on_right_"+(t+1):"payline_off_right_"+(t+1),h=this.paylineNumberAtlas.getSpriteFrame(a);h&&(l.spriteFrame=h),(h=this.paylineNumberAtlas.getSpriteFrame(s))&&(r.spriteFrame=h)}},l.updateAniPlay=function(){if(this._tweenArr.length>0)if(this._gameAuto&&(this._aniPlayIndex=this._tweenArr.length),this._aniPlayIndex>=this._tweenArr.length){for(var t=0;t<this._tweenArr.length;t++)this._tweenArr[t].start();this.labWinNum.active=!1,this._aniPlayIndex=0,this._setWinEffectFinish||(setTimeout((function(){N.inst.emit("MAINSCENE_GAMEFINISH",I.GAMEFINISH_SITUATION.WINEFFECTANI_FINISH)}),1200),this._setWinEffectFinish=!0)}else this.labWinNum.active||(this.labWinNum.active=!0),this._winNum[this._aniPlayIndex]&&(this.labWinNum.getComponent(d).string=this._winNum[this._aniPlayIndex].toFixed(2)),this._labPosArr[this._aniPlayIndex]&&this.labWinNum.setPosition(this._labPosArr[this._aniPlayIndex]),this._tweenArr[this._aniPlayIndex].start(),this._aniPlayIndex++},l.resetData=function(){this.itemBgContent.destroyAllChildren(),this.itemContent.destroyAllChildren(),this.paylineContent.destroyAllChildren(),this.labWinNum.active=!1;for(var t=0;t<this._winData.length;t++)this.lightPaylineNumber(this._winData[t],!1);this._aniPlayIndex=0,this._tweenArr=[],this._winData=[],this._itemContentArr=[],this._itemBgContentArr=[],this._winNum=[],this._labPosArr=[],this._setWinEffectFinish=!1},e}(_)).prototype,"rollNodes",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=e(H.prototype,"lineNodes",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(H.prototype,"itemBgContent",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(H.prototype,"paylineContent",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(H.prototype,"itemContent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(H.prototype,"paylineNumLeft",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(H.prototype,"paylineNumRight",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(H.prototype,"winItemBg",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(H.prototype,"paylineNumberAtlas",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(H.prototype,"labWinNum",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=H))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/WinItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,n,o,a,c,u,p,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Node,u=t.SpriteFrame,p=t.Sprite,l=t.Component}],execute:function(){var s,g,h,f,m,b,y;o._RF.push({},"edfd9JXAPpG07G/6AoYBV6t","WinItem",void 0);var L=a.ccclass,d=a.property;t("WinItem",(s=L("WinItem"),g=d(c),h=d(u),s((b=e((m=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"bgLight",b,n(e)),r(e,"bgLightFrame",y,n(e)),e}i(e,t);var o=e.prototype;return o.start=function(){},o.update=function(t){},o.setBgLight=function(t){this.bgLightFrame[t-1]&&(this.bgLight.getComponent(p).spriteFrame=this.bgLightFrame[t-1])},e}(l)).prototype,"bgLight",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(m.prototype,"bgLightFrame",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=m))||f));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});